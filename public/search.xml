<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/04/20/hello_world/hello_world/"/>
      <url>/2023/04/20/hello_world/hello_world/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to my Blog!</p><h2 id="git"><a class="markdownIt-Anchor" href="#git"></a> Git</h2><h3 id="git-configå‘½ä»¤é¢„å…ˆé…ç½®å¥½ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯"><a class="markdownIt-Anchor" href="#git-configå‘½ä»¤é¢„å…ˆé…ç½®å¥½ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯"></a> git configå‘½ä»¤é¢„å…ˆé…ç½®å¥½ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯</h3><pre><code class="hljs shell">git config --global user.name &quot;ä½ çš„åå­—æˆ–æ˜µç§°&quot;git config --global user.email &quot;ä½ çš„é‚®ç®±&quot;</code></pre><h3 id="ä¸‰æ­¥èµ°"><a class="markdownIt-Anchor" href="#ä¸‰æ­¥èµ°"></a> ä¸‰æ­¥èµ°</h3><pre><code class="hljs shell">git add . #å°†å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°gitæš‚å­˜åŒºgit commit -m &quot;my first commit&quot; #æäº¤å¹¶å¤‡æ³¨æäº¤ä¿¡æ¯git push origin master #å°†æœ¬åœ°æäº¤æ¨é€åˆ°è¿œç¨‹ä»“åº“</code></pre><h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2><h3 id="å®‰è£…çš„æ’ä»¶"><a class="markdownIt-Anchor" href="#å®‰è£…çš„æ’ä»¶"></a> å®‰è£…çš„æ’ä»¶</h3><h4 id="ç½‘å€è½¬æ‹¼éŸ³æ’ä»¶"><a class="markdownIt-Anchor" href="#ç½‘å€è½¬æ‹¼éŸ³æ’ä»¶"></a> ç½‘å€è½¬æ‹¼éŸ³æ’ä»¶</h4><h5 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h5><pre><code class="hljs shell">npm i hexo-permalink-pinyin --save</code></pre><h5 id="é…ç½®åŠä½¿ç”¨"><a class="markdownIt-Anchor" href="#é…ç½®åŠä½¿ç”¨"></a> é…ç½®åŠä½¿ç”¨</h5><p>åœ¨æ ¹ç›®å½•ä¸­çš„_config.ymlä¸­å›½æ·»åŠ </p><pre><code class="hljs yml"><span class="hljs-comment"># ç½‘ç«™ æ–‡å­—è½¬æ‹¼éŸ³</span><span class="hljs-attr">permalink_pinyin:</span>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>  <span class="hljs-attr">separator:</span> <span class="hljs-string">&quot;_&quot;</span> <span class="hljs-comment"># default: &#x27;-&#x27;</span></code></pre><h4 id="hexo-electric-clock-ç”µå­æ—¶é’Ÿæ’ä»¶"><a class="markdownIt-Anchor" href="#hexo-electric-clock-ç”µå­æ—¶é’Ÿæ’ä»¶"></a> hexo-electric-clock ç”µå­æ—¶é’Ÿæ’ä»¶</h4><h5 id="å®‰è£…-2"><a class="markdownIt-Anchor" href="#å®‰è£…-2"></a> å®‰è£…</h5><pre><code class="hljs shell">npm i hexo-electric-clock --save</code></pre><h5 id="é…ç½®åŠä½¿ç”¨-2"><a class="markdownIt-Anchor" href="#é…ç½®åŠä½¿ç”¨-2"></a> é…ç½®åŠä½¿ç”¨</h5><p>ä¸æ˜¯ä¸»é¢˜çš„ymlæ–‡ä»¶</p><pre><code class="hljs yml"><span class="hljs-attr">electric_clock:</span>  <span class="hljs-attr">priority:</span> <span class="hljs-number">5</span>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>  <span class="hljs-attr">enable_page:</span> <span class="hljs-string">all</span>  <span class="hljs-attr">layout:</span>    <span class="hljs-attr">type:</span> <span class="hljs-string">class</span>    <span class="hljs-attr">name:</span> <span class="hljs-string">sticky_layout</span>    <span class="hljs-attr">index:</span> <span class="hljs-number">0</span>  <span class="hljs-attr">temple_html:</span> <span class="hljs-string">&#x27;</span><span class="hljs-string">  &lt;div class=&quot;card-widget card-clock&quot;&gt;</span><span class="hljs-string">    &lt;!-- æŒ‚è½½å®¹å™¨ --&gt;</span><span class="hljs-string">    &lt;div class=&quot;card-glass&quot;&gt;</span><span class="hljs-string">      &lt;div class=&quot;card-background&quot;&gt;</span><span class="hljs-string">        &lt;div class=&quot;card-content&quot;&gt;</span><span class="hljs-string">          &lt;div id=&quot;hexo_electric_clock&quot;&gt;</span><span class="hljs-string">            &lt;img</span><span class="hljs-string">              id=&quot;card-clock-loading&quot;</span><span class="hljs-string">              src=&quot;https://cdn.jsdelivr.net/gh/Zfour/Butterfly-clock/clock/images/weather/loading.gif&quot;</span><span class="hljs-string">              style=&quot;height: 120px; width: 100%;&quot;</span><span class="hljs-string">              data-ll-status=&quot;loading&quot;</span><span class="hljs-string">              class=&quot;entered loading&quot;</span><span class="hljs-string">            /&gt;</span><span class="hljs-string">          &lt;/div&gt;</span><span class="hljs-string">        &lt;/div&gt;</span><span class="hljs-string">      &lt;/div&gt;</span><span class="hljs-string">    &lt;/div&gt;</span><span class="hljs-string">  &lt;/div&gt;&#x27;</span></code></pre><h4 id="chartåŠ¨æ€å›¾æ ‡æ’ä»¶"><a class="markdownIt-Anchor" href="#chartåŠ¨æ€å›¾æ ‡æ’ä»¶"></a> ChartåŠ¨æ€å›¾æ ‡æ’ä»¶</h4><h5 id="å®‰è£…-3"><a class="markdownIt-Anchor" href="#å®‰è£…-3"></a> å®‰è£…</h5><pre><code class="hljs shell">npm install hexo-tag-chart --save</code></pre><h5 id="é…ç½®åŠä½¿ç”¨-3"><a class="markdownIt-Anchor" href="#é…ç½®åŠä½¿ç”¨-3"></a> é…ç½®åŠä½¿ç”¨</h5><pre><code class="hljs markdown">&lt;!--fontColor:æ•°æ®é¢œè‰²--&gt;&lt;!--padding:ä¸Šä¸‹å·¦å³å¡«å……--&gt;&lt;!--suggestedMin:æœ€å°å€¼--&gt;&#123;% p center logo large, HelloğŸ˜œ %&#125;<span class="hljs-strong">**<span class="hljs-emphasis">*</span></span><span class="hljs-emphasis"><span class="hljs-strong"></span></span><span class="hljs-emphasis"><span class="hljs-strong">&#123;% p center h1, ä¸€ä¸ªç”¨JSå¼€å‘çš„ç¡¬ä»¶å·¥ç¨‹å¸ˆ ğŸ˜‹ %&#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong"></span></span><span class="hljs-emphasis"><span class="hljs-strong">&#123;% p center small, é›·è¾¾å›¾çœ‹ä¸åˆ°åˆ·æ–°åˆ·æ–°å°±å¥½å•¦ %&#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong"></span></span><span class="hljs-emphasis"><span class="hljs-strong">&#123;% chart 100% 300 %&#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong">&#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">  type: &#x27;radar&#x27;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">  data: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">    labels: [&#x27;C&#x27;, &#x27;Python&#x27;, &#x27;HTML&#x27;, &#x27;micropython&#x27;, &#x27;ESP8266&#x27;, &#x27;ESP32&#x27;, &#x27;STM32&#x27;, &#x27;SCT15&#x27;, &#x27;å¾®ä¿¡å°ç¨‹åº&#x27;],</span></span><span class="hljs-emphasis"><span class="hljs-strong">    datasets: [&#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">    label: &#x27;å€¼&#x27;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    backgroundColor: &#x27;#9400D377&#x27;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    borderColor: &#x27;#9400D3&#x27;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    data: [20, 50, 40, 80, 40, 80, 55, 55, 10],</span></span><span class="hljs-emphasis"><span class="hljs-strong">    lineTension: 0.2,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    pointStyle: &#x27;rectRounded&#x27;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    pointHoverBackgroundColor: &#x27;#FFFFFF&#x27;</span></span><span class="hljs-emphasis"><span class="hljs-strong">    &#125;]</span></span><span class="hljs-emphasis"><span class="hljs-strong">  &#125;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">  options: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">    legend: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">        labels: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">            fontColor: &#x27;#9400D3&#x27;, &lt;!--æ•°æ®é¢œè‰²--&gt;</span></span><span class="hljs-emphasis"><span class="hljs-strong">            fontSize: 12,</span></span><span class="hljs-emphasis"><span class="hljs-strong">            FontFamily: &#x27;&#x27;</span></span><span class="hljs-emphasis"><span class="hljs-strong">        &#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong">    &#125;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    layout: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">      padding: &#123; &lt;!--ä¸Šä¸‹å·¦å³å¡«å……--&gt;</span></span><span class="hljs-emphasis"><span class="hljs-strong">        left: 0,</span></span><span class="hljs-emphasis"><span class="hljs-strong">        right: 0,</span></span><span class="hljs-emphasis"><span class="hljs-strong">        top: 0,</span></span><span class="hljs-emphasis"><span class="hljs-strong">        bottom: 0</span></span><span class="hljs-emphasis"><span class="hljs-strong">      &#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong">    &#125;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    responsive: true,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    title: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">      display: true,</span></span><span class="hljs-emphasis"><span class="hljs-strong">      text: &#x27;My dataset&#x27;</span></span><span class="hljs-emphasis"><span class="hljs-strong">    &#125;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">    scale: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">        angleLines: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">            display: true</span></span><span class="hljs-emphasis"><span class="hljs-strong">        &#125;,</span></span><span class="hljs-emphasis"><span class="hljs-strong">        ticks: &#123;</span></span><span class="hljs-emphasis"><span class="hljs-strong">            suggestedMin: 0,    &lt;!--æœ€å°å€¼--&gt;</span></span><span class="hljs-emphasis"><span class="hljs-strong">            suggestedMax: 80  &lt;!--æœ€å¤§å€¼--&gt;</span></span><span class="hljs-emphasis"><span class="hljs-strong">        &#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong">    &#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong">  &#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong">&#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong">&#123;% endchart %&#125;</span></span><span class="hljs-emphasis"><span class="hljs-strong"></span></span><span class="hljs-emphasis"><span class="hljs-strong"></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SiYuanåœ¨dockerä¸­è‡ªåŠ¨åŒæ­¥</title>
      <link href="/2022/09/09/siyuan_zai_docker_zhong_zi_dong_tong_bu/siyuan_zai_docker_zhong_zi_dong_tong_bu/"/>
      <url>/2022/09/09/siyuan_zai_docker_zhong_zi_dong_tong_bu/siyuan_zai_docker_zhong_zi_dong_tong_bu/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="20220909-fri"><a class="markdownIt-Anchor" href="#20220909-fri"></a> 2022.09.09 Fri</h1><h1 id="å¦‚ä½•åŒæ­¥æ€æºç¬”è®°"><a class="markdownIt-Anchor" href="#å¦‚ä½•åŒæ­¥æ€æºç¬”è®°"></a> å¦‚ä½•åŒæ­¥æ€æºç¬”è®°</h1><h2 id="å·¥å…·"><a class="markdownIt-Anchor" href="#å·¥å…·"></a> å·¥å…·</h2><ol><li>SiYuan Note</li><li>Docker</li><li>syncthing</li></ol><h2 id="å¦‚ä½•è§£å†³"><a class="markdownIt-Anchor" href="#å¦‚ä½•è§£å†³"></a> å¦‚ä½•è§£å†³</h2><p>æ€æºç¬”è®°è½¯ä»¶æœ¬ä½“ä¸èƒ½åŒæ­¥ï¼Œç½‘ä¸Šæœ‰ä¸€äº›æ•™ç¨‹æ˜¯é€šè¿‡OnedriveåŒæ­¥çš„ï¼Œä½†æ˜¯éœ€è¦è´¦å·ï¼Œä½¿ç”¨äº‘ç«¯èµ„æºï¼Œäºæ˜¯ä¾¿æƒ³åˆ°å¯ä»¥åœ¨æœ¬åœ°æ­å»ºæ–‡ä»¶åŒæ­¥çš„æœåŠ¡ç”¨äºè§£å†³ç¬”è®°åŒæ­¥é—®é¢˜ã€‚</p><p>äºæ˜¯æˆ‘ä¸Šç½‘å¯»æ‰¾ï¼Œæœ€åæ‰¾åˆ°äº†syncting</p><h2 id="å¼€å§‹æ­å»º"><a class="markdownIt-Anchor" href="#å¼€å§‹æ­å»º"></a> å¼€å§‹æ­å»º</h2><h3 id="æ€æºç¬”è®°"><a class="markdownIt-Anchor" href="#æ€æºç¬”è®°"></a> æ€æºç¬”è®°</h3><p>æç¤ºï¼šæ‚¨å¯ä»¥æ›´æ”¹â€œ/your/workspace/partâ€ã€‚ æ€æºçš„æ•°æ®å­˜å‚¨åœ¨â€œ/your/workspace/partâ€ä¸­ã€‚ æˆ‘ä»¬ç¨åä¼šä½¿ç”¨å®ƒã€‚</p><pre><code class="hljs bash">sudo docker run -v /your/workspace/part:/siyuan/workspace -p 6806:6806 -u 1000:1000 --restart=always b3log/siyuan --workspace=/siyuan/workspace/</code></pre><h3 id="æ­å»º-syncthing"><a class="markdownIt-Anchor" href="#æ­å»º-syncthing"></a> æ­å»º syncthing</h3><p>ä½ å¯ä»¥æ ¹æ®ä½ çš„æƒ…å†µæ”¹å˜ â€œ~/docker_softsoftware_date/st-syncâ€ çš„å†…å®¹</p><pre><code class="hljs bash">sudo docker run -d -p 8384:8384 -p 22000:22000 -v ~/docker_softsoftware_date/st-sync:/var/syncthing --restart=always syncthing/syncthing:latest</code></pre><h3 id="syncthing-è®¾ç½®"><a class="markdownIt-Anchor" href="#syncthing-è®¾ç½®"></a> Syncthing è®¾ç½®.</h3><h4 id="windows-or-linux"><a class="markdownIt-Anchor" href="#windows-or-linux"></a> Windows or Linux</h4><h5 id="æ·»åŠ è¿œç¨‹è®¾å¤‡"><a class="markdownIt-Anchor" href="#æ·»åŠ è¿œç¨‹è®¾å¤‡"></a> æ·»åŠ è¿œç¨‹è®¾å¤‡</h5><p>å¤åˆ¶è®¾å¤‡ ID</p><p><img src="image-20220909173428-2pb8iw2.png" alt="image" />â€‹</p><p>å°†è®¾å¤‡ ID ç²˜è´´åˆ°å±€åŸŸç½‘ä¸Šçš„å…¶ä»–è®¾å¤‡ä¸­ã€‚</p><p><img src="image-20220909173836-jdgjywa.png" alt="image" />â€‹</p><h5 id="add-folder"><a class="markdownIt-Anchor" href="#add-folder"></a> Add folder</h5><p><img src="image-20220909174240-m8epauq.png" alt="image" />â€‹</p><p>åœ¨ä¸åŒçš„ç»ˆç«¯è®¾å¤‡æ·»åŠ å…±äº«æ–‡ä»¶å¤¹</p><p>æ·»åŠ æ€æºæ•°æ®æ–‡ä»¶&quot;/your/workspace/part&quot;</p><p>å¦ä¸€å°è®¾å¤‡æ·»åŠ è·¯å¾„ï¼Œå°±åƒè¿™æ ·ï¼š â€œE:\usr\siyuan\Siyunâ€</p><h4 id="android"><a class="markdownIt-Anchor" href="#android"></a> Android</h4><h5 id="æ“ä½œå¾ˆç®€å•åŸºæœ¬å’Œä¸Šé¢ä¸€æ ·-ä¸‹é¢æ˜¯åº”ç”¨çš„æˆªå›¾"><a class="markdownIt-Anchor" href="#æ“ä½œå¾ˆç®€å•åŸºæœ¬å’Œä¸Šé¢ä¸€æ ·-ä¸‹é¢æ˜¯åº”ç”¨çš„æˆªå›¾"></a> æ“ä½œå¾ˆç®€å•ï¼ŒåŸºæœ¬å’Œä¸Šé¢ä¸€æ ·ã€‚ä¸‹é¢æ˜¯åº”ç”¨çš„æˆªå›¾ã€‚</h5><p><img src="a8db527d00df11a1ce3d44f8ee0eee1-20220909194939-55qhm16.jpg" alt="a8db527d00df11a1ce3d44f8ee0eee1" />â€‹</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘è“æ´¾4Bæ­å»ºjava MCæœåŠ¡å™¨</title>
      <link href="/2022/06/08/shu_mei_pai_4b_da_jian_java_mc_fu_wu_qi/shu_mei_pai_4b_da_jian_java_mc_fu_wu_qi/"/>
      <url>/2022/06/08/shu_mei_pai_4b_da_jian_java_mc_fu_wu_qi/shu_mei_pai_4b_da_jian_java_mc_fu_wu_qi/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="java-å®‰è£…"><a class="markdownIt-Anchor" href="#java-å®‰è£…"></a> Java å®‰è£…</h2><p>å®‰è£…java</p><pre><code class="hljs shell">sudo apt updatesudo apt install default-jdksudo apt install openjdk-8-jdksudo apt install openjdk-11-jdk</code></pre><p>é€‰æ‹©é»˜è®¤javaç‰ˆæœ¬ï¼Œè·Ÿæ¢æˆ11</p><pre><code class="hljs shell">sudo update-alternatives --config java</code></pre><h2 id="æœåŠ¡å™¨æ„å»ºå™¨ä¸‹è½½åŠå…¶å®‰è£…"><a class="markdownIt-Anchor" href="#æœåŠ¡å™¨æ„å»ºå™¨ä¸‹è½½åŠå…¶å®‰è£…"></a> æœåŠ¡å™¨æ„å»ºå™¨ä¸‹è½½åŠå…¶å®‰è£…</h2><p><a target="_blank" rel="noopener" href="https://files.minecraftforge.net/net/minecraftforge/forge/index_1.18.2.html">ä¸‹è½½é“¾æ¥</a></p><p><a target="_blank" rel="noopener" href="https://files.minecraftforge.net/net/minecraftforge/forge/">æ‰€æœ‰ç‰ˆæœ¬</a></p><p>ç‚¹å‡»ä¸‹è½½</p><p><img src="1.png" alt="1.png" /></p><p>æˆ–è€…ï¼š</p><pre><code class="hljs apache"><span class="hljs-attribute">wget</span> https://maven.minecraftforge.net/net/minecraftforge/forge/<span class="hljs-number">1</span>.<span class="hljs-number">18</span>.<span class="hljs-number">2</span>-<span class="hljs-number">40</span>.<span class="hljs-number">1</span>.<span class="hljs-number">48</span>/forge-<span class="hljs-number">1</span>.<span class="hljs-number">18</span>.<span class="hljs-number">2</span>-<span class="hljs-number">40</span>.<span class="hljs-number">1</span>.<span class="hljs-number">48</span>-installer.jar</code></pre><p>å®‰è£…</p><pre><code class="hljs apache"><span class="hljs-attribute">java</span> -jar forge-<span class="hljs-number">1</span>.<span class="hljs-number">18</span>.<span class="hljs-number">2</span>-<span class="hljs-number">40</span>.<span class="hljs-number">1</span>.<span class="hljs-number">48</span>-installer.jar -install</code></pre><p>ä¼šå¼¹å‡ºå›¾å½¢ç•Œé¢ï¼Œå®‰è£…å®Œæˆ</p><h2 id="è¿è¡ŒæœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#è¿è¡ŒæœåŠ¡å™¨"></a> è¿è¡ŒæœåŠ¡å™¨</h2><p>cd åˆ°å®‰è£…ç›®å½•ï¼Œlinuxè¿è¡Œ</p><pre><code class="hljs stata">./<span class="hljs-keyword">run</span>.<span class="hljs-keyword">sh</span></code></pre><p>é…ç½®eula.txt</p><pre><code class="hljs ini"><span class="hljs-attr">eula</span>=<span class="hljs-literal">true</span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MOSç®¡(Mosfet)</title>
      <link href="/2022/06/01/mos_guan_mosfet/mos_guan_mosfet/"/>
      <url>/2022/06/01/mos_guan_mosfet/mos_guan_mosfet/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸‰æç®¡å’Œ-mosfet-å¯¹æ¯”"><a class="markdownIt-Anchor" href="#ä¸‰æç®¡å’Œ-mosfet-å¯¹æ¯”"></a> ä¸‰æç®¡å’Œ MOSFET å¯¹æ¯”</h2><h3 id="ä¸‰æç®¡"><a class="markdownIt-Anchor" href="#ä¸‰æç®¡"></a> ä¸‰æç®¡</h3><p>ä¸‰æç®¡ç®€ç§°æ™¶ä½“ç®¡ï¼Œåˆ†ä¸º NPN å‹å’Œ PNP å‹ä¸¤ç§ï¼Œæ˜¯æœ€é‡è¦çš„ä¸€ç§åŠå¯¼ä½“å™¨ä»¶ã€‚å®ƒç”¨äºæ”¾å¤§ä½œç”¨å’Œå¼€å…³ä½œç”¨ã€‚</p><h3 id="mosfet"><a class="markdownIt-Anchor" href="#mosfet"></a> Mosfet</h3><p>å°±æ˜¯åœºæ•ˆåº”ç®¡ï¼Œæ˜¯ä¸€ç§è¾ƒæ–°å‹çš„åŠå¯¼ä½“å™¨ä»¶ã€‚å¤–å½¢ä¸æ™®é€šæ™¶ä½“ç®¡ç›¸ä¼¼ï¼Œä½†ä¸¤è€…çš„æ§åˆ¶ç‰¹æ€§å´æˆªç„¶ä¸åŒã€‚</p><h3 id="mos-ç›¸å¯¹ä¸‰æç®¡çš„ä¼˜åŠ¿"><a class="markdownIt-Anchor" href="#mos-ç›¸å¯¹ä¸‰æç®¡çš„ä¼˜åŠ¿"></a> Mos ç›¸å¯¹ä¸‰æç®¡çš„ä¼˜åŠ¿</h3><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">MOSFET</th><th style="text-align:center">äºŒæç®¡</th><th style="text-align:center">ç»“è®º</th></tr></thead><tbody><tr><td style="text-align:center">é©±åŠ¨æ–¹å¼</td><td style="text-align:center">ç”µå‹é©±åŠ¨</td><td style="text-align:center">ç”µæµé©±åŠ¨</td><td style="text-align:center">MOSFET æ›´èŠ‚èƒ½</td></tr><tr><td style="text-align:center">çƒ­ç¨³å®šæ€§</td><td style="text-align:center">å¤šå­å‚ä¸å¯¼ç”µ</td><td style="text-align:center">å¤šå­ã€å°‘å­å‚ä¸å¯¼ç”µ</td><td style="text-align:center">MOSFET æ›´ç¨³å®š</td></tr><tr><td style="text-align:center">å‹é™</td><td style="text-align:center">0V æ— å‹é™</td><td style="text-align:center">0.3V</td><td style="text-align:center">MOSFET æ›´åˆé€‚é›†æˆ</td></tr></tbody></table><h2 id="åŸç†å¯¹æ¯”"><a class="markdownIt-Anchor" href="#åŸç†å¯¹æ¯”"></a> åŸç†å¯¹æ¯”</h2><table><thead><tr><th style="text-align:center">MOSFET</th><th style="text-align:center">äºŒæç®¡</th></tr></thead><tbody><tr><td style="text-align:center">é€šè¿‡æ§åˆ¶åŸºæç”µæµæ‰èƒ½è¾¾åˆ°æ§åˆ¶é›†ç”µæç”µæµæˆ–å‘å°„æç”µæµçš„ç›®</td><td style="text-align:center">å®ƒçš„è¾“å‡ºç”µæµå†³å®šäºè¾“å…¥ç«¯ç”µå‹çš„å¤§å°ï¼ŒåŸºæœ¬ä¸Šä¸éœ€è¦ä¿¡å·æºæä¾›ç”µæµã€‚</td></tr></tbody></table><h2 id="mosfet-2"><a class="markdownIt-Anchor" href="#mosfet-2"></a> MOSFET</h2><h3 id="æ¦‚è¿°"><a class="markdownIt-Anchor" href="#æ¦‚è¿°"></a> æ¦‚è¿°</h3><p>åˆ†ç±» --&gt; åŸç†ï¼ˆN æ²Ÿé“å¢å¼ºå‹ï¼‰ --&gt; ç”µæ°”ç‰¹æ€§</p><h3 id="åˆ†ç±»"><a class="markdownIt-Anchor" href="#åˆ†ç±»"></a> åˆ†ç±»</h3><p>æŒ‰æ²Ÿé“ï¼š</p><ul><li>N æ²Ÿé“</li><li>P æ²Ÿé“</li></ul><p>æŒ‰æ …æç”µå‹ï¼š</p><ul><li>è€—å°½å‹ï¼šå½“æ …æç”µå‹ä¸ºé›¶æ—¶æ¼æºæä¹‹é—´å°±å­˜åœ¨å¯¼ç”µæ²Ÿé“ã€‚</li><li>å¢å¼ºå‹ï¼šæœ‰ç”µå‹æ‰å¯¼é€š<ul><li>å¯¹äº<code>N</code>æ²Ÿé“å™¨ä»¶ï¼Œæ …æç”µå‹<code>å¤§äº</code>é›¶(<code>&lt;0</code>)æ—¶æ‰å­˜åœ¨å¯¼ç”µæ²Ÿé“ã€‚</li><li>å¯¹äº<code>P</code>æ²Ÿé“å™¨ä»¶ï¼Œæ …æç”µå‹<code>å°äº</code>é›¶(<code>&gt;0</code>)æ—¶æ‰å­˜åœ¨å¯¼ç”µæ²Ÿé“ã€‚</li></ul></li></ul><p>åŠŸç‡ MOSFET ä¸»è¦æ˜¯ï¼šN æ²Ÿé“å¢å¼ºå‹ã€‚</p><h3 id="å‡ ç§åˆ†ç±»åŠå…¶å›¾æ ‡"><a class="markdownIt-Anchor" href="#å‡ ç§åˆ†ç±»åŠå…¶å›¾æ ‡"></a> å‡ ç§åˆ†ç±»åŠå…¶å›¾æ ‡</h3><h3 id="å·¥ä½œåŸç†"><a class="markdownIt-Anchor" href="#å·¥ä½œåŸç†"></a> å·¥ä½œåŸç†</h3><p><img src="1.jpg" alt="1.jpg" /><br />å›¾ä¸­å„éƒ¨åˆ†ä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ˜¯ï¼š</p><ul><li>æ …æ(Gate)</li><li>æ¼æ(Drain)</li><li>æºæ(Source)</li><li>æ©˜é»„è‰²ï¼šé‡‘å±</li><li>é»„è‰²ï¼šæ°§åŒ–ç‰©</li><li>æµ…çº¢è‰²ï¼šP æºæ‚</li><li>æ·±çº¢è‰²ï¼šè€—å°½åŒº(depletion region)</li></ul><p>ä¸€ä¸‹è¿‡ç¨‹æ¨¡æ‹Ÿ<code>æ …æ(Gate)</code>åŠ å‹</p><ol><li>å½“<code>æ …æ(Gate)</code>æœªæ–½åŠ ç”µå‹æ—¶(=0)ï¼Œ<code>æ¼æ(Drain)</code>å’Œ<code>æºæ(Source)</code>æ˜¯æ–­å¼€çš„ï¼Œå¦‚1.jpgã€‚</li><li>å½“<code>æ …æ(Gate)</code>æ–½åŠ ç”µå‹ä¸”<code>å¤§äº0</code>(<code>&gt;0</code>)æ—¶ï¼Œ<code>æ¼æ(Drain)</code>å’Œ<code>æºæ(Source)</code>æ˜¯æ–­å¼€çš„ï¼Œä½†æ˜¯æ …æé‡‘å±å±‚å°†èšé›†æ­£ç”µè·ï¼Œå¦‚2.jpgã€‚</li><li>å½“<code>æ …æ(Gate)</code>æ–½åŠ ç”µå‹ä¸”<code>å¤§äºV_TH</code>(<code>&gt;V_TH</code>)æ—¶ï¼Œ<code>æ¼æ(Drain)</code>å’Œ<code>æºæ(Source)</code>ä¹‹é—´å½¢æˆåå‹å±‚(inversion layer)ï¼Œåå‹å±‚ç›¸å½“äºNæºæ‚çš„åŠå¯¼ä½“ï¼Œå› æ­¤<code>æ¼æ(Drain)</code>å’Œ<code>æºæ(Source)</code>ç›´æ¥è¿é€šï¼Œå› æ­¤MOSFETå¯¼ç”µæ²Ÿé“å½¢æˆï¼Œè¿›å…¥<code>å¯¼é€š</code>çŠ¶æ€ã€‚å¦‚3.jpgã€‚<br /><img src="2.jpg" alt="2.jpg" /><br /><img src="3.jpg" alt="3.jpg" /></li></ol><h3 id="è¾“å‡ºç‰¹æ€§"><a class="markdownIt-Anchor" href="#è¾“å‡ºç‰¹æ€§"></a> è¾“å‡ºç‰¹æ€§</h3><p><img src="4.jpg" alt="4.jpg" /></p><ol><li>å¤¹æ–­åŒº(cutoff mode)</li><li>çº¿æ€§åŒº(linear mode)</li><li>é¥±å’ŒåŒº(saturation mode)</li></ol><p>å…·ä½“æƒ…å†µå¦‚ä¸‹<br /><img src="5.PNG" alt="5.PNG" /></p>]]></content>
      
      
      
        <tags>
            
            <tag> mosfet </tag>
            
            <tag> ç”µè·¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºæ ‘è“æ´¾4Bçš„Openwrtç³»ç»ŸDockerä¸­å®‰è£…Wordpress</title>
      <link href="/2022/03/25/ji_yu_shu_mei_pai_4b_de_openwrt_xi_tong_docker_zhong_an_zhuang_wordpress/ji_yu_shu_mei_pai_4b_de_openwrt_xi_tong_docker_zhong_an_zhuang_wordpress/"/>
      <url>/2022/03/25/ji_yu_shu_mei_pai_4b_de_openwrt_xi_tong_docker_zhong_an_zhuang_wordpress/ji_yu_shu_mei_pai_4b_de_openwrt_xi_tong_docker_zhong_an_zhuang_wordpress/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ç¡®ä¿openwrtå®‰è£…äº†docker"><a class="markdownIt-Anchor" href="#ç¡®ä¿openwrtå®‰è£…äº†docker"></a> ç¡®ä¿OpenWrtå®‰è£…äº†Docker</h1><p><img src="./1.png" alt="1.png" /></p><h1 id="åœ¨å‘½ä»¤è¡Œé”®å…¥ä»¥ä¸‹å‘½ä»¤ä»¥å®Œæˆå®‰è£…"><a class="markdownIt-Anchor" href="#åœ¨å‘½ä»¤è¡Œé”®å…¥ä»¥ä¸‹å‘½ä»¤ä»¥å®Œæˆå®‰è£…"></a> åœ¨å‘½ä»¤è¡Œé”®å…¥ä»¥ä¸‹å‘½ä»¤ä»¥å®Œæˆå®‰è£…</h1><pre><code class="hljs sh">docker run -d --name mariadb -p 3306:3306 -e MARIADB_ROOT_PASSWORD=meimima \-e MARIADB_DATABASE=wordpress \--restart=always \mariadb:latest</code></pre><pre><code class="hljs sh">docker run -d --name wordpress -p 8083:80 -e WORDPRESS_DB_PASSWORD=meimima \-e WORDPRESS_DB_HOST=ä½ çš„IP:3306 \-e WORDPRESS_DB_USER=root \-e WORDPRESS_DB_NAME=wordpress \-e WORDPRESS_TABLE_PREFIX=wp_ \--restart=always \wordpress</code></pre><p>å®‰è£…å®Œæˆåä¼šæœ‰ä»¥ä¸‹æç¤º</p><p><img src="./2.png" alt="2.png" /></p><p>æ ¹æ®æç¤ºå®Œæˆç”¨æˆ·åå¯†ç å½•å…¥</p><h1 id="ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶é™åˆ¶"><a class="markdownIt-Anchor" href="#ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶é™åˆ¶"></a> ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶é™åˆ¶</h1><pre><code class="hljs sh">docker <span class="hljs-built_in">exec</span> -it wordpress /bin/bash</code></pre><h2 id="è¿›å…¥å®¹å™¨å"><a class="markdownIt-Anchor" href="#è¿›å…¥å®¹å™¨å"></a> è¿›å…¥å®¹å™¨å</h2><p>å®‰è£…vim</p><pre><code class="hljs sh"><span class="hljs-built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak<span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF &gt;/etc/apt/sources.list</span><span class="hljs-string">deb http://mirrors.ustc.edu.cn/debian stable main contrib non-free</span><span class="hljs-string">deb http://mirrors.ustc.edu.cn/debian stable-updates main contrib non-free</span><span class="hljs-string">EOF</span>apt updateapt install vim</code></pre><pre><code class="hljs sh"><span class="hljs-built_in">cp</span> /usr/local/etc/php/php.ini-production /usr/local/etc/php/php.inivim /usr/local/etc/php/php.ini</code></pre><p>æœç´¢ä»¥ä¸‹å…³é”®å­—</p><pre><code class="hljs vim">upload_max_filesize = <span class="hljs-number">200</span>M    #æ–‡ä»¶å¤§å°é™åˆ¶post_max_size = <span class="hljs-number">250</span>M    #postå¤§å°é™åˆ¶memory_limit = <span class="hljs-number">500</span>M        #å†…å­˜å ç”¨é™åˆ¶</code></pre><h2 id="é‡å¯docker"><a class="markdownIt-Anchor" href="#é‡å¯docker"></a> é‡å¯docker</h2><pre><code class="hljs sh">docker restart wordpress</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> wordpress </tag>
            
            <tag> openwrt </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>smbæ–‡ä»¶å…±äº«è®¾ç½®</title>
      <link href="/2022/03/23/smb_wen_jian_gong_xiang_she_zhi/smb_wen_jian_gong_xiang_she_zhi/"/>
      <url>/2022/03/23/smb_wen_jian_gong_xiang_she_zhi/smb_wen_jian_gong_xiang_she_zhi/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="linuxæœåŠ¡å™¨è®¾ç½®æ–‡ä»¶å¤¹å…±äº«"><a class="markdownIt-Anchor" href="#linuxæœåŠ¡å™¨è®¾ç½®æ–‡ä»¶å¤¹å…±äº«"></a> linuxæœåŠ¡å™¨è®¾ç½®æ–‡ä»¶å¤¹å…±äº«</h1><p>vim /etc/samba/smb.conf</p><pre><code class="hljs conf">[Quark-Doc]    path=/home/pi/Documents/Quark-Doc    # æ³¨æ„ï¼špathçš„å€¼ä¸ºä½ è¦å…±äº«çš„æ–‡ä»¶å¤¹åç§°ï¼Œæ­¤å¤„æˆ‘é€‰æ‹©äº†æ ¹ç›®å½•    # è¯´æ˜ä¿¡æ¯    comment = NAS Storage    # å¯ä»¥è®¿é—®çš„ç”¨æˆ·   #  valid users = pi,root    # å¯è¢«å…¶ä»–äººçœ‹åˆ°èµ„æºåç§°ï¼ˆéå†…å®¹ï¼‰    browseable = yes    # å¯å†™    writable = yes    public = yes    # æ–°å»ºæ–‡ä»¶çš„æƒé™ä¸º 664    create mask = 0664    # æ–°å»ºç›®å½•çš„æƒé™ä¸º 775    directory mask = 0775</code></pre><p>ä¿å­˜åé‡å¯æœåŠ¡</p><pre><code class="hljs shell">sudo service smbd restart</code></pre><h1 id="windowè®¾ç½®æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨"><a class="markdownIt-Anchor" href="#windowè®¾ç½®æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨"></a> Windowè®¾ç½®æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</h1><p><img src="./1.png" alt="1.png" /></p><p><img src="./2.png" alt="2.png" /></p><p>è¾“å…¥æœåŠ¡å™¨ä¸Šçš„å¯†ç å³å¯ï¼Œæˆ‘è®¾ç½®çš„æ˜¯æœåŠ¡å™¨rootè´¦æˆ·å¯†ç </p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> smb </tag>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºæ ‘è“æ´¾4Bçš„OpenWrté…ç½®</title>
      <link href="/2021/11/20/ji_yu_shu_mei_pai_4b_de_openwrt_pei_zhi/ji_yu_shu_mei_pai_4b_de_openwrt_pei_zhi/"/>
      <url>/2021/11/20/ji_yu_shu_mei_pai_4b_de_openwrt_pei_zhi/ji_yu_shu_mei_pai_4b_de_openwrt_pei_zhi/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="åŸºäºæ ‘è“æ´¾-4b-çš„-openwrt-é…ç½®"><a class="markdownIt-Anchor" href="#åŸºäºæ ‘è“æ´¾-4b-çš„-openwrt-é…ç½®"></a> åŸºäºæ ‘è“æ´¾ 4B çš„ OpenWrt é…ç½®</h3><h4 id="åˆ¶ä½œè¿™ä¸ª-openwrt-çš„åŸå› "><a class="markdownIt-Anchor" href="#åˆ¶ä½œè¿™ä¸ª-openwrt-çš„åŸå› "></a> åˆ¶ä½œè¿™ä¸ª OpenWrt çš„åŸå› </h4><p>æƒ³æ‹¥æœ‰ä¸€ä¸ªé«˜åº¦è‡ªå®šä¹‰çš„è·¯ç”±å™¨ï¼Œäºæ˜¯ç½‘ä¸Šä¸€æœï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨ OpenWrt åšçš„ï¼Œè™½ç„¶è´¹å°½å‘¨æŠ˜ï¼ˆå®˜æ–¹çƒ§è¿›å»åä¸çŸ¥é“æ€ä¹ˆè¿é€šè¿‡ ssh è®¿é—®ï¼‰ï¼Œæœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªéå¸¸ä¸é”™çš„é•œåƒæ–‡ä»¶ï¼Œå°±æ˜¯è¿™ä¸ªé“¾æ¥<a target="_blank" rel="noopener" href="https://github.com/SuLingGG/OpenWrt-Rpi">Link</a>ã€‚å¯ä»¥åˆ° Releases é‡Œé¢å»æ‰¾ç›¸åº”çš„å›ºä»¶ä¸‹è½½ã€‚</p><h4 id="çƒ§å½•é•œåƒ"><a class="markdownIt-Anchor" href="#çƒ§å½•é•œåƒ"></a> çƒ§å½•é•œåƒ</h4><p>çƒ§å½•è¿‡ç¨‹å¦‚ä¸‹å›¾</p><p><img src="1.png" alt="å›¾" /><br /><img src="2.png" alt="å›¾" /><br /><img src="3.png" alt="å›¾" /><br /><img src="4.png" alt="å›¾" /><br /><img src="5.png" alt="å›¾" /></p><p>å®Œæˆåå°†å¡æ’å…¥ tf å¡æ§½ï¼Œå¯åŠ¨æ ‘è“æ´¾</p><h3 id="è°ƒè¯•è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#è°ƒè¯•è¿‡ç¨‹"></a> è°ƒè¯•è¿‡ç¨‹</h3><h4 id="æ— çº¿éƒ¨åˆ†"><a class="markdownIt-Anchor" href="#æ— çº¿éƒ¨åˆ†"></a> æ— çº¿éƒ¨åˆ†</h4><p>æ³¨æ„ï¼š</p><ol><li>åˆæ¬¡å¯åŠ¨æ ‘è“æ´¾ï¼Œé¢‘å®½ä¸º 5GHz,ä¸€äº›å¹´çºªè¾ƒå¤§çš„ç”µè„‘å¯èƒ½è¯†åˆ«ä¸äº†ï¼Œè¦æŠŠé¢‘å®½æ¢æˆ 2.4GHzã€‚</li><li>å¯åŠ¨å‰å‘ä¸ç”¨æ’å…¥ç½‘çº¿ï¼ï¼ï¼</li></ol><p><img src="6.png" alt="å›¾" /><br /><img src="7.png" alt="å›¾" /></p><h4 id="æ¥å£è®¾ç½®"><a class="markdownIt-Anchor" href="#æ¥å£è®¾ç½®"></a> æ¥å£è®¾ç½®</h4><p>æœ€åˆæœ‰ä¸‰ä¸ªæ¥å£(å› ä¸ºæˆ‘çš„ä¿®æ”¹è¿‡ï¼Œæ‰€ä»¥ Lan å£ä¼šæœ‰äº›ä¸ä¸€æ ·)</p><p><img src="8.png" alt="å›¾" /></p><p>ç‚¹è§£ Lan å£å³ä¾§çš„<code>ä¿®æ”¹</code>ï¼Œé€‰æ‹©<code>ç‰©ç†è®¾ç½®</code>ï¼Œå»é™¤<code>eth0</code>çš„å‹¾ï¼Œç‚¹å‡»<code>ä¿å­˜å¹¶åº”ç”¨</code>ã€‚</p><p><img src="9.png" alt="å›¾" /></p><p>ç‚¹å‡»<code>è¿”å›è‡³æ¦‚å†µ</code>ï¼Œç‚¹å‡»<code>æ·»åŠ æ–°æ¥å£</code>ï¼Œ åç§°éšä¾¿å†™ï¼Œåšä¸ªæ ‡è®°è€Œå·²ï¼Œåè®®é€‰æ‹©<code>DHCPå®¢æˆ·ç«¯</code>ï¼Œå‹¾é€‰<code>eth0</code>ï¼Œç‚¹å‡»<code>ä¿å­˜å¹¶åº”ç”¨</code>ã€‚</p><p><img src="10.png" alt="å›¾" /><br /><img src="11.png" alt="å›¾" /></p><h4 id="é˜²ç«å¢™è®¾ç½®"><a class="markdownIt-Anchor" href="#é˜²ç«å¢™è®¾ç½®"></a> é˜²ç«å¢™è®¾ç½®</h4><p>ç‚¹å‡»é˜²ç«å¢™è®¾ç½®ï¼Œæ”¹å˜ä»¥ä¸‹é€‰æ‹©é¡¹ï¼Œæ¡†å†…å…¨éƒ¨é€‰æ‹©æ¥å—ï¼ï¼ï¼ç‚¹å‡»<code>ä¿å­˜å¹¶åº”ç”¨</code>ã€‚</p><p><img src="12.png" alt="å›¾" /></p><p>è¿›å…¥ Wan å£é˜²ç«å¢™ï¼Œä¿®æ”¹ä»¥ä¸‹å€¼ï¼Œé€€å‡ºæ—¶ç‚¹å‡»<code>ä¿å­˜å¹¶åº”ç”¨</code>ã€‚</p><p><img src="13.png" alt="å›¾" /><br /><img src="14.png" alt="å›¾" /><br /><img src="15.png" alt="å›¾" /></p><p>åˆ‡æ¢åˆ°è½¬å‘ç«¯å£é¡µé¢ï¼Œæœ‰å¦‚ä¸‹å‡ ä¸ªæ¥å£ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸¤æ¡è§„åˆ™</p><p><img src="16.png" alt="å›¾" /></p><ol><li>ip ä¸Šçº§è·¯ç”±å™¨åˆ†é…ç»™æ ‘è“æ´¾çš„ ip åœ°å€ï¼Œç‚¹å‡»æœ€å³ä¾§çš„<code>æ·»åŠ </code>ï¼Œå†ç‚¹å‡»<code>ä¿å­˜å¹¶åº”ç”¨</code>ã€‚<br /><img src="17.png" alt="è§„åˆ™ä¸€" /></li><li>ç¬¬äºŒæ¡è§„åˆ™å…ˆè¾“å…¥å’Œç¬¬ä¸€æ¡è§„åˆ™ä¸€æ ·ï¼Œç‚¹å‡»æœ€å³ä¾§çš„<code>æ·»åŠ </code>ï¼Œç‚¹å‡»<code>ä¿å­˜å¹¶åº”ç”¨</code>ï¼Œå†ç‚¹å‡»<code>ä¿®æ”¹</code>ã€‚</li></ol><p><img src="18.png" alt="è§„åˆ™äºŒ" /></p><p><img src="19.png" alt="è§„åˆ™äºŒ" /></p><p>é€€å‡ºæ—¶ç‚¹å‡»<code>ä¿å­˜å¹¶åº”ç”¨</code>ã€‚</p><h4 id="å®Œæˆ"><a class="markdownIt-Anchor" href="#å®Œæˆ"></a> å®Œæˆï¼</h4><p>å¯ä»¥å¯¼å‡ºé…ç½®ï¼Œä»¥å…ä¸‹æ¬¡æŠ˜è…¾çš„æ—¶å€™éœ€è¦é‡æ–°é…ç½®ï¼<br />åç»­ä¼šå†™å¦‚ä½•é…ç½®å…¶ä»–éƒ¨åˆ†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ttyd è®¿é—®ç»ˆç«¯</p><p><img src="20.png" alt="å›¾" /></p><p>å¯ä»¥é€šè¿‡<code>opkg</code>å‘½ä»¤å®‰è£…è½¯ä»¶ï¼Œå°±åƒ Ubuntu çš„<code>apt</code>ï¼Œä¸è¿‡è¿™é‡Œä¸éœ€è¦åŠ <code>sudo</code>ã€‚<br />ä¹‹å‰å°è¯•å®‰è£…<code>nmap</code>ï¼Œä½†æ˜¯ä¼šæŠ¥é”™ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªè§£å†³åŠæ³•</p><pre><code class="hljs shell">vim /etc/openclash/config/config.yaml</code></pre><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œ<code>:wq</code>ä¿å­˜é€€å‡ºã€‚</p><pre><code class="hljs shell">src/gz openwrt_nmap https://repo.turris.cz/omnia/packages/packages</code></pre><p>æ›´æ–°ä¸€ä¸‹ã€‚</p><pre><code class="hljs shell">opkg update</code></pre><p>éªŒè¯ä¸€ä¸‹ï¼Œè¾“å…¥<code>nmap -V</code></p><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">root @ OpenWrt <span class="hljs-keyword">in</span> ~ [22:21:02] C:255</span><span class="hljs-meta prompt_">$ </span><span class="language-bash">nmap -V</span>Nmap version 7.91 ( https://nmap.org )Platform: aarch64-openwrt-linux-gnuCompiled with: libz-1.2.11 libpcre-8.44 libpcap-1.10.1 nmap-libdnet-1.12 ipv6Compiled without: liblua openssl libssh2Available nsock engines: epoll poll select</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> æ ‘è“æ´¾ </tag>
            
            <tag> OpenWrt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘è“æ´¾å®‰è£…Ubuntu21.10</title>
      <link href="/2021/11/06/shu_mei_pai_an_zhuang_ubuntu21_10/shu_mei_pai_an_zhuang_ubuntu21_10/"/>
      <url>/2021/11/06/shu_mei_pai_an_zhuang_ubuntu21_10/shu_mei_pai_an_zhuang_ubuntu21_10/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="æ ‘è“æ´¾å®‰è£…-ubuntu2110"><a class="markdownIt-Anchor" href="#æ ‘è“æ´¾å®‰è£…-ubuntu2110"></a> æ ‘è“æ´¾å®‰è£… Ubuntu21.10</h2><h3 id="ä¸‹è½½-å®‰è£…çƒ§å½•å·¥å…·"><a class="markdownIt-Anchor" href="#ä¸‹è½½-å®‰è£…çƒ§å½•å·¥å…·"></a> ä¸‹è½½ã€å®‰è£…çƒ§å½•å·¥å…·</h3><p>Raspberry Pi Imagerï¼š<a target="_blank" rel="noopener" href="https://www.raspberrypi.com/software/">link</a></p><p><img src="1.png" alt="1.png" /></p><p><img src="2.png" alt="1.png" /></p><h3 id="çƒ§å½•è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#çƒ§å½•è¿‡ç¨‹"></a> çƒ§å½•è¿‡ç¨‹</h3><h4 id="é€‰æ‹©é•œåƒ"><a class="markdownIt-Anchor" href="#é€‰æ‹©é•œåƒ"></a> é€‰æ‹©é•œåƒ</h4><p>ç‚¹å‡»<code>CHOOSE OS</code>ï¼Œé€‰æ‹©<code>Other general purpose OS</code> ï¼Œå†é€‰æ‹© Ubuntu</p><p><img src="3.png" alt="1.png" /></p><p><img src="4.png" alt="1.png" /></p><p><img src="5.png" alt="1.png" /></p><p>æ‰¾åˆ°ä¸è‡ªå·±æ ‘è“æ´¾ç›¸åº”çš„ç‰ˆæœ¬ï¼Œæˆ‘çš„æ˜¯ Raspberry 4ï¼Œå› æ­¤é€‰æ‹©ç¬¬ä¸€ä¸ª</p><p><img src="6.png" alt="1.png" /></p><h4 id="é€‰æ‹©-sd-å¡è®¾å¤‡"><a class="markdownIt-Anchor" href="#é€‰æ‹©-sd-å¡è®¾å¤‡"></a> é€‰æ‹© SD å¡è®¾å¤‡</h4><p>ç‚¹å‡»<code>CHOOSE STORAGE</code> ï¼Œé€‰æ‹©è‡ªå·±çš„ SD å¡è®¾å¤‡</p><p><img src="7.png" alt="1.png" /></p><p><img src="8.png" alt="1.png" /></p><p>ç‚¹å‡»<code>WRITE</code></p><p><img src="9.png" alt="1.png" /></p><p>ç­‰å¾…çƒ§å½•å®Œæˆï¼Œæ‹”å‡º SD å¡ï¼Œæ’å…¥æ ‘è“æ´¾å¡æ§½ï¼Œæ’ç”µæºå¼€æœºã€‚è‡³æ­¤ä¸ºæ ‘è“æ´¾å®‰è£… Ubuntu æµç¨‹ç»“æŸï¼Œæ’ä¸Šæ˜¾ç¤ºå™¨åæ•ˆæœå¦‚ä¸‹</p><p><img src="10.png" alt="1.png" /></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ ‘è“æ´¾ </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SPIé€šè®¯åè®®</title>
      <link href="/2021/10/09/spi_tong_xun_xie_yi/spi_tong_xun_xie_yi/"/>
      <url>/2021/10/09/spi_tong_xun_xie_yi/spi_tong_xun_xie_yi/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ˜¾ç¤ºå± TFT-LCD ä¿¡å·æ¥å£æœ‰ SPIã€MCUã€RGBã€LVDSã€MIPIã€eDPã€HDMI ç­‰ç­‰å¤šç§ç±»å‹ã€‚å…¶ä¸­å°±åŒ…æ‹¬ SPI åè®®ï¼ŒSPI åè®®è¿˜æœ‰å…¶ä»–ç”¨é€”ï¼Œ<strong>FLASHRAM</strong>ã€<strong>ç½‘ç»œæ§åˆ¶å™¨</strong>ã€<strong>LCD æ˜¾ç¤ºé©±åŠ¨å™¨</strong>ã€<strong>A/D è½¬æ¢å™¨</strong>å’Œ<strong>MCU</strong>ç­‰ã€‚</p><h2 id="spi-åè®®"><a class="markdownIt-Anchor" href="#spi-åè®®"></a> SPI åè®®</h2><h3 id="é€šä¿¡åŸç†"><a class="markdownIt-Anchor" href="#é€šä¿¡åŸç†"></a> é€šä¿¡åŸç†</h3><p>éœ€è¦è‡³å°‘ 3 æ ¹çº¿ï¼Œåˆ†åˆ«æ˜¯ SDIï¼ˆæ•°æ®è¾“å…¥ï¼‰ã€SDOï¼ˆæ•°æ®è¾“å‡ºï¼‰ã€SCLKï¼ˆæ—¶é’Ÿï¼‰ã€CSï¼ˆç‰‡é€‰ï¼‰</p><ol><li>SDI â€“ SerialData In,ä¸²è¡Œæ•°æ®è¾“å…¥</li><li>SDO â€“ SerialDataOut,ä¸²è¡Œæ•°æ®è¾“å‡º</li><li>SCLK â€“ Serial Clock,æ—¶é’Ÿä¿¡å·ï¼Œç”±ä¸»è®¾å¤‡äº§ç”Ÿ</li><li>CS â€“ Chip Select,ä»è®¾å¤‡ä½¿èƒ½ä¿¡å·ï¼Œç”±ä¸»è®¾å¤‡æ§åˆ¶</li></ol><p><strong>CS</strong>æ˜¯<strong>ä»èŠ¯ç‰‡</strong>æ˜¯å¦è¢«<strong>ä¸»èŠ¯ç‰‡</strong>é€‰ä¸­çš„æ§åˆ¶ä¿¡å·ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰<strong>ç‰‡é€‰ä¿¡å·</strong>ä¸ºé¢„å…ˆè§„å®šçš„<strong>ä½¿èƒ½ä¿¡å·</strong>æ—¶ï¼ˆé«˜ç”µä½æˆ–ä½ç”µä½ï¼‰ï¼Œä¸»èŠ¯ç‰‡å¯¹æ­¤ä»èŠ¯ç‰‡çš„æ“ä½œ<strong>æ‰æœ‰æ•ˆ</strong>ã€‚è¿™å°±ä½¿åœ¨åŒä¸€æ¡æ€»çº¿ä¸Š<strong>è¿æ¥å¤šä¸ª SPI è®¾å¤‡</strong>æˆä¸ºå¯èƒ½ã€‚</p><h3 id="spi-æ¥å£"><a class="markdownIt-Anchor" href="#spi-æ¥å£"></a> SPI æ¥å£</h3><p>SPI æ¥å£æ˜¯åœ¨ CPU å’Œå¤–å›´ä½é€Ÿå™¨ä»¶ä¹‹é—´è¿›è¡Œ<strong>åŒæ­¥ä¸²è¡Œ</strong>æ•°æ®ä¼ è¾“ï¼Œåœ¨<strong>ä¸»å™¨ä»¶</strong>çš„ç§»ä½è„‰å†²ä¸‹ï¼Œæ•°æ®æŒ‰ä½ä¼ è¾“ï¼Œ<strong>é«˜</strong>ä½åœ¨<strong>å‰</strong>ï¼Œ<strong>ä½</strong>ä½åœ¨<strong>å</strong>ï¼Œä¸ºå…¨åŒå·¥é€šä¿¡ï¼Œæ•°æ®ä¼ è¾“é€Ÿåº¦æ€»ä½“æ¥è¯´æ¯”<strong>I2C</strong>æ€»çº¿è¦<strong>å¿«</strong>ï¼Œé€Ÿåº¦å¯è¾¾åˆ°å‡  Mbpsã€‚</p><p>ç‰¹ç‚¹ï¼šä¿¡å·çº¿å°‘ï¼Œåè®®ç®€å•ï¼Œç›¸å¯¹æ•°æ®é€Ÿç‡é«˜ã€‚</p><ol><li><p>MOSI â€“ ä¸»å™¨ä»¶æ•°æ®è¾“å‡ºï¼Œä»å™¨ä»¶æ•°æ®è¾“å…¥</p></li><li><p>MISO â€“ ä¸»å™¨ä»¶æ•°æ®è¾“å…¥ï¼Œä»å™¨ä»¶æ•°æ®è¾“å‡º</p></li><li><p>SCLK â€“æ—¶é’Ÿä¿¡å·ï¼Œç”±ä¸»å™¨ä»¶äº§ç”Ÿ,æœ€å¤§ä¸º fPCLK/2ï¼Œä»æ¨¡å¼é¢‘ç‡æœ€å¤§ä¸º fCPU/2</p></li><li><p>NSS â€“ ä»å™¨ä»¶ä½¿èƒ½ä¿¡å·ï¼Œç”±ä¸»å™¨ä»¶æ§åˆ¶,æœ‰çš„ IC ä¼šæ ‡æ³¨ä¸º CS(Chip select)</p></li></ol><p><strong>#æœªå®Œå¾…ç»­#</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> SPI </tag>
            
            <tag> tags2 </tag>
            
            <tag> tags3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºVScodeæ·»åŠ èƒŒæ™¯</title>
      <link href="/2021/06/27/wei_vscode_tian_jia_bei_jing/wei_vscode_tian_jia_bei_jing/"/>
      <url>/2021/06/27/wei_vscode_tian_jia_bei_jing/wei_vscode_tian_jia_bei_jing/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åŸç”Ÿçš„vscodeæ— èƒŒæ™¯ï¼Œæ²¡æœ‰ç†æƒ³çš„å¥½çœ‹</p><p><img src="vscode1.png" alt="vscode1.png" /></p><p>é‚£å¦‚ä½•ä¸ºVScodeæ·»åŠ è‡ªå·±å–œæ¬¢çš„å£çº¸å‘¢ï¼Ÿ</p><p>æ‰“å¼€VScodeæ–‡ä»¶æ‰€åœ¨ä½ç½®ï¼Œæˆ‘çš„å®‰è£…è·¯å¾„æ˜¯<code>C:\Users\ç”¨æˆ·å\AppData\Local\Programs\Microsoft VS Code\</code><br />å†ä¾æ¬¡æ‰“å¼€ç›®å½•<code>\resources\app\out\vs\workbench</code><br />å®Œæ•´è·¯å¾„æ˜¯: <code>C:\Users\ç”¨æˆ·å\AppData\Local\Programs\Microsoft VS Code\resources\app\out\vs\workbench</code><br />æ‰“å¼€æ–‡ä»¶<code>workbench.desktop.main.css</code></p><p><img src="vscode2.png" alt="vscode2.png" /></p><p>æ·»åŠ å¦‚ä¸‹ä»£ç </p><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;    <span class="hljs-comment">/*èƒŒæ™¯å›¾ç‰‡çš„è·¯å¾„*/</span>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">C:/Users/ç”¨æˆ·å/123.jpg</span>);    <span class="hljs-comment">/* å›¾ç‰‡ä¸é‡å¤ */</span>    <span class="hljs-attribute">background-repeat</span>: no-repeat;    <span class="hljs-comment">/* å›¾ç‰‡ä½ç½® */</span>    <span class="hljs-attribute">background-position</span>: center;    <span class="hljs-comment">/* å›¾ç‰‡å¤§å° */</span>    <span class="hljs-attribute">background-size</span>: cover;    <span class="hljs-comment">/* é€æ˜åº¦ */</span>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.7</span>;    <span class="hljs-comment">/* opacity: 0.75; */</span>&#125;</code></pre><p><img src="vscode3.png" alt="vscode3.png" /></p><p><code>Ctrl + S</code>ä¿å­˜ï¼Œé‡å¯VScodeå³å¯ï¼Œæ•ˆæœå¦‚ä¸‹ã€‚</p><p><img src="vscode4.png" alt="vscode4.png" /></p><p>å¯èƒ½ä¼šæç¤ºCodeå¯èƒ½æŸåï¼Œè¿™ä¸ªå¯ä»¥å¿½ç•¥ï¼Œé€‰æ‹©ä¸å†æç¤ºå°±å¯ä»¥äº†ã€‚</p><p><img src="vscode5.png" alt="vscode5.png" /></p>]]></content>
      
      
      
        <tags>
            
            <tag> Vscode </tag>
            
            <tag> ç¾åŒ– </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DS18B20æµ‹æ¸©èŠ¯ç‰‡é©±åŠ¨ä»£ç </title>
      <link href="/2021/06/02/ds18b20_ce_wen_xin_pian/ds18b20_ce_wen_xin_pian_qu_dong_dai_ma/"/>
      <url>/2021/06/02/ds18b20_ce_wen_xin_pian/ds18b20_ce_wen_xin_pian_qu_dong_dai_ma/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä»¥ä¸‹ä»£ç åœ¨STC15W408ASå•ç‰‡æœºè¿›è¡Œæµ‹è¯•ï¼Œåé¢è¿˜æœ‰è‡ªåˆ¶çš„PCBçš„åŸç†å›¾å’Œlayoutè®¾è®¡ï¼ˆå› æŸäº›åŸå› éœ€è¦åˆ¶ä½œè¿™æ ·ä¸€å—æ˜¾ç¤ºæ¸©åº¦çš„å°é¡¹ç›®ï¼Œåˆæƒ³èŠ‚çº¦æˆæœ¬ï¼Œäºæ˜¯ç”»çš„ååˆ†ç®€é™‹â€¦ï¼‰</p><h2 id="ds18b20é©±åŠ¨ä»£ç "><a class="markdownIt-Anchor" href="#ds18b20é©±åŠ¨ä»£ç "></a> DS18B20é©±åŠ¨ä»£ç </h2><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;stc15.h&quot;</span> <span class="hljs-comment">//æ­¤å¤„åº”ä¿®æ”¹ä¸ºç›¸åº”çš„å•ç‰‡æœºåº“</span></span>sbit DQ = P1^<span class="hljs-number">1</span>;  <span class="hljs-comment">//æ­¤å¤„ä¸ºè¿æ¥DS18B20çš„å¼•è„šå·</span><span class="hljs-comment">//å•æ€»çº¿å»¶æ—¶å‡½æ•°</span><span class="hljs-type">void</span> <span class="hljs-title function_">Delay_OneWire</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> t)</span>  <span class="hljs-comment">//STC89C52RC</span>&#123;<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<span class="hljs-keyword">while</span>(t--)&#123;<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">12</span>;i++);&#125;&#125;<span class="hljs-comment">//é€šè¿‡å•æ€»çº¿å‘DS18B20å†™ä¸€ä¸ªå­—èŠ‚</span><span class="hljs-type">void</span> <span class="hljs-title function_">Write_DS18B20</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> dat)</span>&#123;<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;DQ = <span class="hljs-number">0</span>;DQ = dat&amp;<span class="hljs-number">0x01</span>;Delay_OneWire(<span class="hljs-number">5</span>);DQ = <span class="hljs-number">1</span>;dat &gt;&gt;= <span class="hljs-number">1</span>;&#125;Delay_OneWire(<span class="hljs-number">5</span>);&#125;<span class="hljs-comment">//ä»DS18B20è¯»å–ä¸€ä¸ªå­—èŠ‚</span><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">Read_DS18B20</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> dat;  <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;DQ = <span class="hljs-number">0</span>;dat &gt;&gt;= <span class="hljs-number">1</span>;DQ = <span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(DQ)&#123;dat |= <span class="hljs-number">0x80</span>;&#125;    Delay_OneWire(<span class="hljs-number">5</span>);&#125;<span class="hljs-keyword">return</span> dat;&#125;<span class="hljs-comment">//DS18B20è®¾å¤‡åˆå§‹åŒ–</span>bit <span class="hljs-title function_">init_ds18b20</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;  bit initflag = <span class="hljs-number">0</span>;    DQ = <span class="hljs-number">1</span>;  Delay_OneWire(<span class="hljs-number">12</span>);  DQ = <span class="hljs-number">0</span>;  Delay_OneWire(<span class="hljs-number">80</span>);  DQ = <span class="hljs-number">1</span>;  Delay_OneWire(<span class="hljs-number">10</span>);     initflag = DQ;       Delay_OneWire(<span class="hljs-number">5</span>);    <span class="hljs-keyword">return</span> initflag;&#125; <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">rd_temperature</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> low,high;  <span class="hljs-type">char</span> temp;    init_ds18b20();  Write_DS18B20(<span class="hljs-number">0xCC</span>);  Write_DS18B20(<span class="hljs-number">0x44</span>); <span class="hljs-comment">//å¯åŠ¨æ¸©åº¦è½¬æ¢</span>  Delay_OneWire(<span class="hljs-number">200</span>);  init_ds18b20();  Write_DS18B20(<span class="hljs-number">0xCC</span>);  Write_DS18B20(<span class="hljs-number">0xBE</span>); <span class="hljs-comment">//è¯»å–å¯„å­˜å™¨</span>  low = Read_DS18B20(); <span class="hljs-comment">//ä½å­—èŠ‚</span>  high = Read_DS18B20(); <span class="hljs-comment">//é«˜å­—èŠ‚</span>    temp = high&lt;&lt;<span class="hljs-number">4</span>;  temp |= (low&gt;&gt;<span class="hljs-number">4</span>);    <span class="hljs-keyword">return</span> temp;&#125;</code></pre><h2 id="pcbæ–‡ä»¶åŠå…¶ç¤ºæ„å›¾"><a class="markdownIt-Anchor" href="#pcbæ–‡ä»¶åŠå…¶ç¤ºæ„å›¾"></a> PCBæ–‡ä»¶åŠå…¶ç¤ºæ„å›¾</h2><p>PCBæ–‡ä»¶ä»¥å‹ç¼©åŒ…å½¢å¼æ‰“åŒ…ã€‚<a href="%E6%B8%A9%E6%8E%A7.rar">æˆ³æˆ‘ä¸‹è½½</a><br />æ³¨ï¼šæˆ‘ç”»çš„æ˜¯æ‹¼æ¿ï¼Œå³ä¾§çš„é‚£å—å¯èƒ½åœ°çº¿æ²¡æœ‰æ¥åˆ°ä¸€èµ·ã€‚</p><h3 id="pcbåŸä»¶å¸ƒå±€"><a class="markdownIt-Anchor" href="#pcbåŸä»¶å¸ƒå±€"></a> PCBåŸä»¶å¸ƒå±€</h3><p><img src="pcb.jpg" alt="pcb.jpg" /></p><h3 id="bomè¡¨"><a class="markdownIt-Anchor" href="#bomè¡¨"></a> BOMè¡¨</h3><table><thead><tr><th style="text-align:center">Comment</th><th style="text-align:center">Description</th><th style="text-align:center">Footprint</th><th style="text-align:center">Quantity</th></tr></thead><tbody><tr><td style="text-align:center">5261AS</td><td style="text-align:center">äºŒä½å…±é˜´æ•°ç ç®¡</td><td style="text-align:center">5261AS</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">LED</td><td style="text-align:center">å‘å…‰äºŒæç®¡</td><td style="text-align:center">0603</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">Header 4</td><td style="text-align:center">Header, 4-Pin</td><td style="text-align:center">HDR1X4</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">Res</td><td style="text-align:center">10K</td><td style="text-align:center">0603</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">Res</td><td style="text-align:center">5.1R</td><td style="text-align:center">0603</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">STC15W408AS</td><td style="text-align:center">C51å•ç‰‡æœº</td><td style="text-align:center">SOP-16</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">DS18B20æ¨¡ç»„</td><td style="text-align:center">DS18B20æ¨¡ç»„</td><td style="text-align:center">DS18B20æ¨¡ç»„</td><td style="text-align:center">1</td></tr></tbody></table><p>DS18B20æ¨¡ç»„ç›¸å…³æ–‡ä»¶ç”±æ·˜å®å•†å®¶æä¾›ï¼Œä»¥ä¸‹æ˜¯æ·˜å®å•†å®¶å…¬å¼€çš„ç™¾åº¦ç½‘ç›˜è¿æ¥ã€‚<br /><a target="_blank" rel="noopener" href="https://pan.baidu.com/s/19CwH6CAaWgVBMKmCA28ygQ">https://pan.baidu.com/s/19CwH6CAaWgVBMKmCA28ygQ</a> æå–ç ï¼šlggj</p><h2 id="å•ç‰‡æœºä»£ç "><a class="markdownIt-Anchor" href="#å•ç‰‡æœºä»£ç "></a> å•ç‰‡æœºä»£ç </h2><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;stc15.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;intrins.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;onewire.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;absacc.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-keyword">define</span> uchar unsigned char</span><span class="hljs-meta">#<span class="hljs-keyword">define</span> uint unsigned int</span>sbit LED = P3 ^ <span class="hljs-number">2</span>; <span class="hljs-comment">//Hæœ‰æ•ˆ</span>sbit DIGITAL_a = P1 ^ <span class="hljs-number">2</span>;sbit DIGITAL_b = P1 ^ <span class="hljs-number">3</span>;sbit DIGITAL_c = P1 ^ <span class="hljs-number">4</span>;sbit DIGITAL_d = P1 ^ <span class="hljs-number">5</span>;sbit DIGITAL_e = P5 ^ <span class="hljs-number">4</span>;  <span class="hljs-comment">//sbit DIGITAL_e = P2 ^ 4;</span>sbit DIGITAL_f = P5 ^ <span class="hljs-number">5</span>;  <span class="hljs-comment">//sbit DIGITAL_e = P2 ^ 5;</span>sbit DIGITAL_g = P1 ^ <span class="hljs-number">0</span>;sbit DIGITAL_dp = P3 ^ <span class="hljs-number">7</span>;sbit DIGITAL_H = P3 ^ <span class="hljs-number">6</span>;sbit DIGITAL_L = P3 ^ <span class="hljs-number">3</span>;<span class="hljs-comment">//sbit DQ = P1 ^ 1;</span>bit temper_flag = <span class="hljs-number">0</span>; <span class="hljs-comment">//æ¸©åº¦è¯»å–æ ‡å¿—</span><span class="hljs-type">int</span> temp = <span class="hljs-number">0</span>;<span class="hljs-type">int</span> intr = <span class="hljs-number">0</span>;<span class="hljs-comment">/*æ•°ç ç®¡æ˜¾ç¤ºæ•°å­—*/</span><span class="hljs-type">void</span> <span class="hljs-title function_">printf_num</span><span class="hljs-params">(num)</span>&#123;    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">0</span>)    &#123;        DIGITAL_a = <span class="hljs-number">1</span>;        DIGITAL_b = <span class="hljs-number">1</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">1</span>;        DIGITAL_e = <span class="hljs-number">1</span>;        DIGITAL_f = <span class="hljs-number">1</span>;        DIGITAL_g = <span class="hljs-number">0</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º1*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">1</span>)    &#123;        DIGITAL_a = <span class="hljs-number">0</span>;        DIGITAL_b = <span class="hljs-number">1</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">0</span>;        DIGITAL_e = <span class="hljs-number">0</span>;        DIGITAL_f = <span class="hljs-number">0</span>;        DIGITAL_g = <span class="hljs-number">0</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º2*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">2</span>)    &#123;        DIGITAL_a = <span class="hljs-number">1</span>;        DIGITAL_b = <span class="hljs-number">1</span>;        DIGITAL_c = <span class="hljs-number">0</span>;        DIGITAL_d = <span class="hljs-number">1</span>;        DIGITAL_e = <span class="hljs-number">1</span>;        DIGITAL_f = <span class="hljs-number">0</span>;        DIGITAL_g = <span class="hljs-number">1</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º3*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">3</span>)    &#123;        DIGITAL_a = <span class="hljs-number">1</span>;        DIGITAL_b = <span class="hljs-number">1</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">1</span>;        DIGITAL_e = <span class="hljs-number">0</span>;        DIGITAL_f = <span class="hljs-number">0</span>;        DIGITAL_g = <span class="hljs-number">1</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º4*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">4</span>)    &#123;        DIGITAL_a = <span class="hljs-number">0</span>;        DIGITAL_b = <span class="hljs-number">1</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">0</span>;        DIGITAL_e = <span class="hljs-number">0</span>;        DIGITAL_f = <span class="hljs-number">1</span>;        DIGITAL_g = <span class="hljs-number">1</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º0*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">5</span>)    &#123;        DIGITAL_a = <span class="hljs-number">1</span>;        DIGITAL_b = <span class="hljs-number">0</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">1</span>;        DIGITAL_e = <span class="hljs-number">0</span>;        DIGITAL_f = <span class="hljs-number">1</span>;        DIGITAL_g = <span class="hljs-number">1</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º6*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">6</span>)    &#123;        DIGITAL_a = <span class="hljs-number">1</span>;        DIGITAL_b = <span class="hljs-number">0</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">1</span>;        DIGITAL_e = <span class="hljs-number">1</span>;        DIGITAL_f = <span class="hljs-number">1</span>;        DIGITAL_g = <span class="hljs-number">1</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º7*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">7</span>)    &#123;        DIGITAL_a = <span class="hljs-number">1</span>;        DIGITAL_b = <span class="hljs-number">1</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">0</span>;        DIGITAL_e = <span class="hljs-number">0</span>;        DIGITAL_f = <span class="hljs-number">0</span>;        DIGITAL_g = <span class="hljs-number">0</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º8*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">8</span>)    &#123;        DIGITAL_a = <span class="hljs-number">1</span>;        DIGITAL_b = <span class="hljs-number">1</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">1</span>;        DIGITAL_e = <span class="hljs-number">1</span>;        DIGITAL_f = <span class="hljs-number">1</span>;        DIGITAL_g = <span class="hljs-number">1</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;    <span class="hljs-comment">/*æ˜¾ç¤º9*/</span>    <span class="hljs-keyword">if</span> (num == <span class="hljs-number">9</span>)    &#123;        DIGITAL_a = <span class="hljs-number">1</span>;        DIGITAL_b = <span class="hljs-number">1</span>;        DIGITAL_c = <span class="hljs-number">1</span>;        DIGITAL_d = <span class="hljs-number">1</span>;        DIGITAL_e = <span class="hljs-number">0</span>;        DIGITAL_f = <span class="hljs-number">1</span>;        DIGITAL_g = <span class="hljs-number">1</span>;        DIGITAL_dp = <span class="hljs-number">0</span>;    &#125;&#125;<span class="hljs-comment">/*æ•°ç ç®¡æ˜¾ç¤ºæ¸©åº¦*/</span><span class="hljs-type">void</span> <span class="hljs-title function_">printf_wendu</span><span class="hljs-params">(num)</span>&#123;    <span class="hljs-comment">//printf_num(num/10);</span>    DIGITAL_H = <span class="hljs-number">0</span>;    printf_num(num / <span class="hljs-number">10</span>);    <span class="hljs-comment">//    DIGITAL_H = 0;</span>    DIGITAL_H = <span class="hljs-number">1</span>;    DIGITAL_a = <span class="hljs-number">0</span>;    DIGITAL_b = <span class="hljs-number">0</span>;    DIGITAL_c = <span class="hljs-number">0</span>;    DIGITAL_d = <span class="hljs-number">0</span>;    DIGITAL_e = <span class="hljs-number">0</span>;    DIGITAL_f = <span class="hljs-number">0</span>;    DIGITAL_g = <span class="hljs-number">0</span>;    DIGITAL_dp = <span class="hljs-number">0</span>;    <span class="hljs-comment">//Delay_printf_wendu();</span>    <span class="hljs-comment">//printf_num(num%10);</span>    DIGITAL_L = <span class="hljs-number">0</span>;    printf_num(num % <span class="hljs-number">10</span>);    <span class="hljs-comment">//    DIGITAL_L = 0;</span>    DIGITAL_L = <span class="hljs-number">1</span>;    DIGITAL_a = <span class="hljs-number">0</span>;    DIGITAL_b = <span class="hljs-number">0</span>;    DIGITAL_c = <span class="hljs-number">0</span>;    DIGITAL_d = <span class="hljs-number">0</span>;    DIGITAL_e = <span class="hljs-number">0</span>;    DIGITAL_f = <span class="hljs-number">0</span>;    DIGITAL_g = <span class="hljs-number">0</span>;    DIGITAL_dp = <span class="hljs-number">0</span>;    <span class="hljs-comment">//Delay_printf_wendu();</span>&#125;<span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;<span class="hljs-type">float</span> temperature;    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)    &#123;        <span class="hljs-keyword">if</span> (temper_flag)        &#123;            temper_flag = <span class="hljs-number">0</span>;            temperature = rd_temperature(); <span class="hljs-comment">//è¯»æ¸©åº¦</span>temp = temperature;        &#125;        printf_wendu(temp);intr++;    <span class="hljs-keyword">if</span> (intr == <span class="hljs-number">100</span>) <span class="hljs-comment">//1msæ‰§è¡Œä¸€æ¬¡</span>    &#123;        intr = <span class="hljs-number">0</span>;        temper_flag = <span class="hljs-number">1</span>; <span class="hljs-comment">//100msæ¸©åº¦è¯»å–æ ‡å¿—ä½ç½®1</span>    &#125;    &#125;&#125;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> DS18B20 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºValineè¯„è®ºæ·»åŠ QQå¤´åƒè¯†åˆ«</title>
      <link href="/2021/04/26/wei_valine_ping_lun_tian_jia_qq_tou_xiang_shi_bie/wei_valine_ping_lun_tian_jia_qq_tou_xiang_shi_bie/"/>
      <url>/2021/04/26/wei_valine_ping_lun_tian_jia_qq_tou_xiang_shi_bie/wei_valine_ping_lun_tian_jia_qq_tou_xiang_shi_bie/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="valine"><a class="markdownIt-Anchor" href="#valine"></a> Valine</h2><p>F12 æŸ¥çœ‹æºç </p><p><img src="bug_1.png" alt="bug_1.png" /></p><p>åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹æŸ¥è¯¢ Valine.js æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ Valine å¯ä»¥å»è¿™é‡Œå¤åˆ¶ä¸‹è½½<a target="_blank" rel="noopener" href="https://unpkg.com/valine@1.4.14/dist/Valine.min.js">link</a></p><p>æ‰“å¼€æ–‡ä»¶ Valine.jsï¼Œ<code>Ctrl + F</code>æŸ¥è¯¢<code>img class=&quot;vimg&quot;</code>ï¼Œæ³¨æ„ç»¿è‰²æ¡†çš„ä»£ç ï¼Œç­‰ä¸‹è¦ä¿®æ”¹çš„éƒ¨åˆ†ã€‚</p><p>æŸ¥åˆ°åä¿®æ”¹</p><pre><code class="hljs js"><span class="hljs-string">&#x27;&lt;img class=&quot;vimg&quot; src=&quot;&#x27;</span> +  (T.<span class="hljs-property">cdn</span> + (<span class="hljs-number">0</span>, s.<span class="hljs-property">default</span>)(t.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;mail&quot;</span>)) + T.<span class="hljs-property">params</span>) +  <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>;</code></pre><p>ä¿®æ”¹ä¸º</p><pre><code class="hljs js"><span class="hljs-string">&#x27;&lt;img class=&quot;vimg&quot; src=&quot;&#x27;</span> + qq_img + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>;</code></pre><p>è¦æ·»åŠ çš„ä»£ç </p><pre><code class="hljs js"><span class="hljs-comment">//var qq_img = m.cdn + a(e.get(&quot;mail&quot;)) + m.params;</span><span class="hljs-keyword">var</span> qq_img = T.<span class="hljs-property">cdn</span> + (<span class="hljs-number">0</span>, s.<span class="hljs-property">default</span>)(t.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;mail&quot;</span>)) + T.<span class="hljs-property">params</span>;<span class="hljs-keyword">if</span> (t.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;mail&quot;</span>).<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;@qq.com&quot;</span>) &gt;= <span class="hljs-number">0</span>) &#123;  <span class="hljs-keyword">var</span> prefix = t.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;mail&quot;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/@.*/</span>, <span class="hljs-string">&quot;&quot;</span>);<span class="hljs-comment">//å‰ç¼€</span>  <span class="hljs-keyword">var</span> pattern = <span class="hljs-regexp">/^\d+$/g</span>;  <span class="hljs-comment">//æ­£åˆ™è¡¨è¾¾å¼</span>  <span class="hljs-keyword">var</span> result = prefix.<span class="hljs-title function_">match</span>(pattern);<span class="hljs-comment">//match æ˜¯åŒ¹é…çš„æ„æ€</span>  <span class="hljs-keyword">if</span> (result !== <span class="hljs-literal">null</span>) &#123;    qq_img = <span class="hljs-string">&quot;//q1.qlogo.cn/g?b=qq&amp;nk=&quot;</span> + prefix + <span class="hljs-string">&quot;&amp;s=100&quot;</span>;  &#125;&#125;</code></pre><p><img src="code_1.png" alt="code_1.png" /></p><h2 id="ä¿®æ”¹æµç¨‹"><a class="markdownIt-Anchor" href="#ä¿®æ”¹æµç¨‹"></a> ä¿®æ”¹æµç¨‹</h2><p>æµç¨‹ï¼š</p><ol><li>é»˜è®¤è¿˜æ˜¯gravatorå¤´åƒæ¥å£</li><li>åˆ¤æ–­æ˜¯å¦æ˜¯qqé‚®ç®±ï¼Œæå–å‰ç¼€prefix</li><li>qqå¤´åƒæ¥å£æ˜¯qqå·ï¼Œå¦‚æ­£åˆ™ç­›é€‰å‰”é™¤â€“é‡å‘½åäº†å¸¦è‹±æ–‡çš„qqé‚®ç®±</li><li>æ‹¼æ¥å¤´åƒåœ°å€</li><li>åŠ å…¥srcæ˜¾ç¤ºï¼</li></ol><p>å‚è€ƒåšå®¢é“¾æ¥ï¼š<a href="">https://blog.csdn.net/cungudafa/article/details/104638730</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> valine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨materialä¸»é¢˜ä½¿ç”¨BBtalk</title>
      <link href="/2021/04/25/zai_material_zhu_ti_shi_yong_bbtalk/zai_material_zhu_ti_shi_yong_bbtalk/"/>
      <url>/2021/04/25/zai_material_zhu_ti_shi_yong_bbtalk/zai_material_zhu_ti_shi_yong_bbtalk/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="æ–°å»ºbbtalké¡µé¢"><a class="markdownIt-Anchor" href="#æ–°å»ºbbtalké¡µé¢"></a> æ–°å»ºBBtalké¡µé¢</h2><p>ç»ˆç«¯è¾“å…¥<code>hexo new page bb</code></p><p>æ‰“å¼€<a target="_blank" rel="noopener" href="https://bb.js.org/quick-start.html#cdn%E5%BC%95%E7%94%A8">BBtalk</a>æ–‡æ¡£</p><p>å¤åˆ¶<code>CDNå¼•ç”¨</code>ä¸‹æ–¹çš„ä»£ç </p><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å­˜æ”¾å“”å“”çš„å®¹å™¨ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;bbtalk&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!-- å¼•ç”¨ bbtalk --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/bbtalk@0.1.5/dist/bbtalk.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><span class="language-javascript">bbtalk.<span class="hljs-title function_">init</span>(&#123;</span><span class="language-javascript">  <span class="hljs-attr">appId</span>: <span class="hljs-string">&quot;Y5IDwC47czJFXXXXXXSlU44Y-MdYXbMMI&quot;</span>,</span><span class="language-javascript">  <span class="hljs-attr">appKey</span>: <span class="hljs-string">&quot;qgrJ3nRwXXXXXXwwnVfj0uaQ&quot;</span>,</span><span class="language-javascript">  <span class="hljs-attr">serverURLs</span>: <span class="hljs-string">&#x27;https://AppIDå‰å…«ä½.api.lncldglobal.com&#x27;</span></span><span class="language-javascript">&#125;)</span><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><p><img src="./Code_1.png" alt="Code_1" /></p><p>ç»ˆç«¯è¾“å…¥<code>hexo s</code>æ•ˆæœå¦‚ä¸‹,åœ†ç‚¹ä½ç½®ä¼šæœ‰åå·®ï¼š</p><p><img src="./test_1.png" alt="test_1" /></p><p>æ‰“å¼€ä¸‹æ–¹é“¾æ¥ï¼Œå¤åˆ¶jså†…å®¹ï¼Œåœ¨æœ¬åœ°æ–°å»ºä¸€ä¸ª<code>bbtalk.min.js</code>ã€‚</p><p><a href="https://hp-l.gitee.io/phone/bb/bbtalk.min.js">https://hp-l.gitee.io/phone/bb/bbtalk.min.js</a></p><p>å†å°†ä¸Šæ–‡ä¸­çš„å¤åˆ¶çš„<code>CDNå¼•ç”¨</code>ä¸‹æ–¹çš„ä»£ç  <code>https://cdn.jsdelivr.net/npm/bbtalk@0.1.5/dist/bbtalk.min.js</code> æ”¹æˆ <code>./bbtalk.min.js</code></p><p>å³</p><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å­˜æ”¾å“”å“”çš„å®¹å™¨ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;bbtalk&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!-- å¼•ç”¨ bbtalk --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./bbtalk.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><span class="language-javascript">bbtalk.<span class="hljs-title function_">init</span>(&#123;</span><span class="language-javascript">  <span class="hljs-attr">appId</span>: <span class="hljs-string">&quot;Y5IDwC47czJFXXXXXXSlU44Y-MdYXbMMI&quot;</span>,</span><span class="language-javascript">  <span class="hljs-attr">appKey</span>: <span class="hljs-string">&quot;qgrJ3nRwXXXXXXwwnVfj0uaQ&quot;</span>,</span><span class="language-javascript">  <span class="hljs-attr">serverURLs</span>: <span class="hljs-string">&#x27;https://AppIDå‰å…«ä½.api.lncldglobal.com&#x27;</span></span><span class="language-javascript">&#125;)</span><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼Œè¿˜éœ€è¿›ä¸€æ­¥è°ƒæ•´ã€‚</p><p><img src="./test_2.png" alt="test_2.png" /><br /><img src="test_3.jpg" alt="test_3" /></p>]]></content>
      
      
      
        <tags>
            
            <tag> material </tag>
            
            <tag> BBtalk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STM32ç‚¹äº®LED</title>
      <link href="/2021/01/31/stm32_dian_liang_led/stm32_dian_liang_led/"/>
      <url>/2021/01/31/stm32_dian_liang_led/stm32_dian_liang_led/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç‚¹ç¯å°±ç›¸å½“äº python çš„<code>print(&quot;hello world&quot;)</code></p><h2 id="å®šä¹‰å¼•è„š"><a class="markdownIt-Anchor" href="#å®šä¹‰å¼•è„š"></a> å®šä¹‰å¼•è„š</h2><p>æ‰“å¼€å·¥ç¨‹æ–‡ä»¶åï¼Œæ‰¾åˆ°ç›¸åº”çš„å¼•è„šï¼Œå•å‡»é€‰æ‹©<code>GPIO_Output</code>ï¼Œå†å³é”®é€‰æ‹© Enter User Labelï¼Œè¾“å…¥å®šä¹‰çš„åç§°ã€‚</p><p><img src="./LED_1.png" alt="å·¥ç¨‹" /></p><p><img src="./LED_2.png" alt="LED_2" /><br /><img src="./LED_3.png" alt="LED_3" /><br /><img src="./LED_4.png" alt="LED_4" /></p><p>ç‚¹å‡»ç”Ÿæˆä»£ç </p><p><img src="./CODE_1.png" alt="ç‚¹å‡»ç”Ÿæˆä»£ç " /><br /><img src="./CODE_2.png" alt="ç­‰å¾…ç”Ÿæˆä»£ç " /></p><p>ç‚¹ç¯ä»£ç å¦‚ä¸‹</p><pre><code class="hljs c"><span class="hljs-comment">//ç‚¹ç¯ä»£ç     LED1é—ªçƒ</span> HAL_GPIO_TogglePin(LED1_GPIO_Port, LED1_Pin); HAL_Delay(<span class="hljs-number">300</span>);</code></pre><p>è‡ªåŠ¨ç”Ÿæˆä»£ç å¦‚ä¸‹</p><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;  <span class="hljs-comment">/* USER CODE BEGIN 1 */</span>  <span class="hljs-comment">/* USER CODE END 1 */</span>  <span class="hljs-comment">/* MCU Configuration----------------------------------*/</span>  <span class="hljs-comment">/* Reset of all peripherals, Initializes the Flash interface and the Systick. */</span>  HAL_Init();  <span class="hljs-comment">/* USER CODE BEGIN Init */</span>  <span class="hljs-comment">/* USER CODE END Init */</span>  <span class="hljs-comment">/* Configure the system clock */</span>  SystemClock_Config();  <span class="hljs-comment">/* USER CODE BEGIN SysInit */</span>  <span class="hljs-comment">/* USER CODE END SysInit */</span>  <span class="hljs-comment">/* Initialize all configured peripherals */</span>  MX_GPIO_Init();  <span class="hljs-comment">/* USER CODE BEGIN 2 */</span>  <span class="hljs-comment">/* USER CODE END 2 */</span>  <span class="hljs-comment">/* Infinite loop */</span>  <span class="hljs-comment">/* USER CODE BEGIN WHILE */</span>  <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)  &#123;    <span class="hljs-comment">/* USER CODE END WHILE */</span>    <span class="hljs-comment">/* USER CODE BEGIN 3 */</span>    <span class="hljs-comment">//ç‚¹ç¯ä»£ç     LED1é—ªçƒ</span>    HAL_GPIO_TogglePin(LED1_GPIO_Port, LED1_Pin);    HAL_Delay(<span class="hljs-number">300</span>);  &#125;  <span class="hljs-comment">/* USER CODE END 3 */</span>&#125;</code></pre><p>è¿æ¥å¼€å‘æ¿åç‚¹å‡»RUNå›¾æ ‡</p><img class=".&#x2F;RUN.png, alt&#x3D;RUN"><img class=".&#x2F;successfully.png, alt&#x3D;successfully"><p>, alt=successfully %}</p>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç¨‹åºå±€åŸŸç½‘æ§åˆ¶ESP32ï¼ˆç‰©è”ç½‘èŠ¯ç‰‡ï¼‰</title>
      <link href="/2020/12/16/xiao_cheng_xu_kong_zhi_esp32/xiao_cheng_xu_ju_yu_wang_kong_zhi_esp32_wu_lian_wang_xin_pian/"/>
      <url>/2020/12/16/xiao_cheng_xu_kong_zhi_esp32/xiao_cheng_xu_ju_yu_wang_kong_zhi_esp32_wu_lian_wang_xin_pian/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å¾®ä¿¡å°ç¨‹åº"><a class="markdownIt-Anchor" href="#å¾®ä¿¡å°ç¨‹åº"></a> å¾®ä¿¡å°ç¨‹åº</h2><!-- ä»£ç Giteeä»“åº“ --><p>ä½“éªŒç‰ˆäºŒç»´ç ã€‚<br /><img src="https://7.dusays.com/2020/12/16/46f7f2a73970e.jpg" alt="ä½“éªŒç‰ˆäºŒç»´ç " /><br />çº¿ä¸Šç‰ˆäºŒç»´ç ã€‚</p><img class=".&#x2F;wechar.jpg, width&#x3D;200px, bg&#x3D;#f4f4f4, alt&#x3D;çº¿ä¸Šç‰ˆäºŒç»´ç "><p><img src="./wechar.jpg" alt="jpg" /></p><p><a target="_blank" rel="noopener" href="https://gitee.com/HP-L/esp32_-we-char_-connect">https://gitee.com/HP-L/esp32_-we-char_-connect</a></p><h2 id="esp32-ä»£ç "><a class="markdownIt-Anchor" href="#esp32-ä»£ç "></a> ESP32 ä»£ç </h2><pre><code class="hljs python"><span class="hljs-keyword">from</span> machine <span class="hljs-keyword">import</span> Timer,Pin,RTC <span class="hljs-comment">#è°ƒç”¨GPIOå£è°ƒç”¨å®šæ—¶å™¨åº“</span><span class="hljs-keyword">import</span> socket<span class="hljs-keyword">from</span> emp_wifi <span class="hljs-keyword">import</span> Wifi<span class="hljs-keyword">import</span> time<span class="hljs-keyword">import</span> esp32<span class="hljs-keyword">import</span> usocket<span class="hljs-comment"># from machine import Pin, SPI, UART,I2C</span><span class="hljs-comment"># çˆ¬è™«ä½¿ç”¨åº“</span><span class="hljs-keyword">import</span> socket,re,sys,os<span class="hljs-keyword">import</span> urequests <span class="hljs-keyword">as</span> requesthea = &#123;<span class="hljs-string">&#x27;User-Agent&#x27;</span>:<span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36&#x27;</span>&#125;rtc = RTC()port = <span class="hljs-number">10000</span>  <span class="hljs-comment">#ç«¯å£å·</span>listenSocket = <span class="hljs-literal">None</span>  <span class="hljs-comment">#å¥—æ¥å­—</span><span class="hljs-keyword">import</span> networkwifi = network.WLAN(network.STA_IF)wifi.active(<span class="hljs-literal">True</span>)A = Pin(<span class="hljs-number">17</span>, Pin.OUT, value=<span class="hljs-number">0</span>)B = Pin(<span class="hljs-number">12</span>, Pin.OUT, value=<span class="hljs-number">1</span>)C = Pin(<span class="hljs-number">14</span>, Pin.OUT, value=<span class="hljs-number">1</span>)D = Pin(<span class="hljs-number">27</span>, Pin.OUT, value=<span class="hljs-number">1</span>)E = Pin(<span class="hljs-number">26</span>, Pin.OUT, value=<span class="hljs-number">1</span>)F = Pin(<span class="hljs-number">25</span>, Pin.OUT, value=<span class="hljs-number">1</span>)G = Pin(<span class="hljs-number">33</span>, Pin.OUT, value=<span class="hljs-number">1</span>)<span class="hljs-comment"># çˆ¬æ—¶é—´</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_time_pa</span>():    time_api_url = <span class="hljs-string">&quot;&quot;&quot;http://quan.suning.com/getSysTime.do&quot;&quot;&quot;</span>    r = request.get(time_api_url, headers = hea)    content = r.text    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;çˆ¬å–æ—¶é—´...&#x27;</span>)    time = re.search(        <span class="hljs-string">r&#x27;&#123;&quot;sysTime2&quot;:&quot;(.*?)-(.*?)-(.*?) (.*?):(.*?):(.*?)&quot;,&quot;sysTime1&quot;:&quot;&#x27;</span>, content        )    <span class="hljs-built_in">print</span>(r.text[<span class="hljs-number">13</span>:<span class="hljs-number">29</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">27</span>:<span class="hljs-number">29</span>]))    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">23</span>:<span class="hljs-number">26</span>]))    mm = <span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">27</span>:<span class="hljs-number">29</span>])<span class="hljs-comment"># åˆ†é’Ÿ</span>    hh = <span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">23</span>:<span class="hljs-number">26</span>])<span class="hljs-comment"># å°æ—¶</span>    rtc = RTC()    time_date = rtc.datetime()    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;é‡ç½®æ—¶é—´ï¼&#x27;</span>)    rtc.datetime((time_date[<span class="hljs-number">0</span>], time_date[<span class="hljs-number">1</span>], time_date[<span class="hljs-number">2</span>], time_date[<span class="hljs-number">3</span>], hh, mm, time_date[<span class="hljs-number">6</span>], time_date[<span class="hljs-number">7</span>]))    rtc.datetime()<span class="hljs-comment">#è‡ªåŠ¨è”ç½‘</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">wifi_connect</span>():  wifi_led=Pin(<span class="hljs-number">12</span>,Pin.OUT)             <span class="hljs-comment"># æ¿è½½æŒ‡ç¤ºç¯åˆå§‹åŒ–    MODE1å·¦è¾¹</span>  wlan = network.WLAN(network.STA_IF)  <span class="hljs-comment"># ä»¥å·¥ä½œç«™ (wlan) æ¨¡å¼è¿è¡Œï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªå·¥ä½œç«™Wi-Fiæ¥å£çš„å®ä¾‹</span>  wlan.active(<span class="hljs-literal">True</span>)                    <span class="hljs-comment"># åœ¨å·¥ä½œç«™å¯¹è±¡ä¸Šè°ƒç”¨æ¿€æ´»æ–¹æ³•å¹¶ä»¥Trueä½œä¸ºè¾“å…¥å€¼ä¼ é€’æ¥æ¿€æ´»ç½‘ç»œæ¥å£</span>  start_time=time.time()               <span class="hljs-comment"># è®°å½•å¼€å§‹æ—¶é—´</span>  <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> wlan.isconnected():              <span class="hljs-comment"># å¦‚æœå°šæœªè”ç½‘æˆåŠŸ</span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å½“å‰æ— çº¿æœªè”ç½‘ï¼Œæ­£åœ¨è¿æ¥ä¸­....&quot;</span>)<span class="hljs-comment">#     wlan.connect(&quot;WiFiåç§°&quot;, &quot;å¯†ç &quot;)   # æ— çº¿ç½‘SSIDã€å¯†ç ï¼Œå¼€å§‹è”ç½‘</span>    wlan.connect(<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>)   <span class="hljs-comment"># æ— çº¿ç½‘SSIDã€å¯†ç ï¼Œå¼€å§‹è”ç½‘</span>    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> wlan.isconnected():         <span class="hljs-comment"># å¦‚æœè¿˜æœªè¿æ¥æˆåŠŸï¼Œåˆ™LEDç¯é—ªçƒæç¤º</span>      wifi_led.value(<span class="hljs-number">1</span>)      time.sleep_ms(<span class="hljs-number">1000</span>)      wifi_led.value(<span class="hljs-number">1</span>)      time.sleep_ms(<span class="hljs-number">1000</span>)      <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨å°è¯•è¿æ¥åˆ°wifi....&quot;</span>)      <span class="hljs-built_in">print</span>(time.time())      <span class="hljs-keyword">if</span> time.time()-start_time&gt;<span class="hljs-number">15</span>:       <span class="hljs-comment"># å¦‚æœè¶…è¿‡15ç§’è¿˜ä¸è¡Œï¼Œå°±é€€å‡º</span>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¿æ¥å¤±è´¥!!!æ— çº¿ç½‘è¿æ¥è¶…è¿‡15ç§’ï¼Œè¯·æ£€æŸ¥æ— çº¿ç½‘åç§°å’Œå¯†ç æ˜¯å¦æ­£ç¡®..&quot;</span>)        <span class="hljs-keyword">break</span>  <span class="hljs-keyword">if</span> wlan.isconnected():                  <span class="hljs-comment"># å¦‚æœè”æ¥æˆåŠŸ</span>    wifi_led.value(<span class="hljs-number">1</span>)                     <span class="hljs-comment"># LEDç¯å¸¸äº®</span>    IP_info=wlan.ifconfig()    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;##################################################&quot;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ— çº¿ç½‘å·²ç»è¿æ¥ï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š&quot;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;IPåœ°å€ï¼š&quot;</span>+IP_info[<span class="hljs-number">0</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å­ç½‘æ©ç ï¼š&quot;</span>+IP_info[<span class="hljs-number">1</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç½‘å…³ï¼š&quot;</span>+IP_info[<span class="hljs-number">2</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;DNSï¼š&quot;</span>+IP_info[<span class="hljs-number">3</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;##################################################&quot;</span>)    get_time_pa()<span class="hljs-comment"># è·å–èŠ¯ç‰‡æ¸©åº¦</span><span class="hljs-comment"># def wendu():</span><span class="hljs-comment">#     f = esp32.raw_temperature()</span><span class="hljs-comment">#     c = (f-32)/1.8</span><span class="hljs-comment">#     print(c)</span><span class="hljs-comment">#     oled.text(&quot;IC:&quot; + str(int(c)),20,0)</span><span class="hljs-comment"># è¿œç¨‹è¿æ¥ä¼ è¾“å‘½ä»¤å‡½æ•°</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">connect_to_phone</span>():    <span class="hljs-keyword">try</span>:        ip = Wifi.ifconfig()[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]   <span class="hljs-comment">#è·å–IPåœ°å€</span>        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)   <span class="hljs-comment">#è®¾ç½®å¥—æ¥å­—</span>        sockaddr = socket.getaddrinfo(ip, port)        <span class="hljs-built_in">print</span>(sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>])        s.bind(sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>])        <span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;tcp waiting...&#x27;</span>)        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:            data, addr = s.recvfrom(<span class="hljs-number">1024</span>)            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;From %s %s&#x27;</span> % addr)            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;data is %s&#x27;</span> % data)            data_utf8 = <span class="hljs-built_in">bytes</span>.decode(data)            <span class="hljs-built_in">print</span>(data_utf8)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_1_on&quot;</span>:                B.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_2_on&quot;</span>:                C.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_1_off&quot;</span>:                B.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_2_off&quot;</span>:                C.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_3_on&quot;</span>:                D.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_4_on&quot;</span>:                E.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_3_off&quot;</span>:                D.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_4_off&quot;</span>:                E.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_5_on&quot;</span>:                F.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_6_on&quot;</span>:                G.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_5_off&quot;</span>:                F.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_6_off&quot;</span>:                G.value(<span class="hljs-number">1</span>)    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">if</span>(listenSocket):   <span class="hljs-comment">#åˆ¤æ–­å¥—æ¥å­—æ˜¯å¦ä¸ºç©º</span>            listenSocket.close()   <span class="hljs-comment">#å…³é—­å¥—æ¥å­—</span>wifi_connect()connect_to_phone()</code></pre><p>æœ¬ç¨‹åºå¯è¿æ¥ OLED1306 ä¹Ÿå¯ä¸è¿æ¥ OLED1306ï¼Œä¸ä¼šå› ä¸ºæœªè¿æ¥æ˜¾ç¤ºå±æŠ¥é”™ã€‚<br />å¯ç›´æ¥å°† OLED1306 ä¸ ESP32 è¿æ¥ï¼Œè‹¥ä¸æ˜¾ç¤ºï¼ŒåŸå› å¯èƒ½æ˜¯æ¥çº¿ä¸ç¨³ï¼Œæ¥è§¦ä¸è‰¯ã€‚<br />æ³¨æ„ï¼šæœ¬ç¨‹åºä½¿ç”¨çš„æ—¶ I2C é€šè®¯ï¼ï¼ï¼ç¡¬ä»¶è¿æ¥æ—¶ï¼ŒI2Cå¿…é¡»æ¥ä¸Šé«˜ç”µå¹³ï¼Œä¸‹é¢ç¨‹åºæ˜¯æ–¹ä¾¿é¢åŒ…æ¿ä½¿ç”¨è€…ä½¿ç”¨çš„ç¨‹åºã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> machine <span class="hljs-keyword">import</span> Timer,Pin,RTC <span class="hljs-comment">#è°ƒç”¨GPIOå£è°ƒç”¨å®šæ—¶å™¨åº“</span><span class="hljs-keyword">import</span> socket<span class="hljs-keyword">from</span> emp_wifi <span class="hljs-keyword">import</span> Wifi<span class="hljs-keyword">import</span> time<span class="hljs-keyword">import</span> esp32<span class="hljs-keyword">import</span> usocket<span class="hljs-comment"># çˆ¬è™«ä½¿ç”¨åº“</span><span class="hljs-keyword">import</span> socket,re,sys,os<span class="hljs-keyword">import</span> urequests <span class="hljs-keyword">as</span> request<span class="hljs-comment"># æ˜¾ç¤ºå±ä½¿ç”¨åº“</span><span class="hljs-keyword">import</span> machine, ssd1306, gfxhea = &#123;<span class="hljs-string">&#x27;User-Agent&#x27;</span>:<span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36&#x27;</span>&#125;rtc = RTC()port = <span class="hljs-number">10000</span>  <span class="hljs-comment">#ç«¯å£å·</span>listenSocket = <span class="hljs-literal">None</span>  <span class="hljs-comment">#å¥—æ¥å­—</span><span class="hljs-keyword">import</span> networkWIFI = Pin(<span class="hljs-number">17</span>, Pin.OUT, value=<span class="hljs-number">0</span>)LED_1 = Pin(<span class="hljs-number">12</span>, Pin.OUT, value=<span class="hljs-number">1</span>)LED_2 = Pin(<span class="hljs-number">14</span>, Pin.OUT, value=<span class="hljs-number">1</span>)LED_3 = Pin(<span class="hljs-number">27</span>, Pin.OUT, value=<span class="hljs-number">1</span>)LED_4 = Pin(<span class="hljs-number">26</span>, Pin.OUT, value=<span class="hljs-number">1</span>)LED_5 = Pin(<span class="hljs-number">25</span>, Pin.OUT, value=<span class="hljs-number">1</span>)LED_6 = Pin(<span class="hljs-number">33</span>, Pin.OUT, value=<span class="hljs-number">1</span>)LED_7 = Pin(<span class="hljs-number">32</span>, Pin.OUT, value=<span class="hljs-number">1</span>)L3 = Pin(<span class="hljs-number">13</span>, Pin.OUT, value=<span class="hljs-number">1</span>)<span class="hljs-comment"># çˆ¬æ—¶é—´</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_time_pa</span>():    time_api_url = <span class="hljs-string">&quot;&quot;&quot;http://quan.suning.com/getSysTime.do&quot;&quot;&quot;</span>    r = request.get(time_api_url, headers = hea)    content = r.text    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;çˆ¬å–æ—¶é—´...&#x27;</span>)    time = re.search(        <span class="hljs-string">r&#x27;&#123;&quot;sysTime2&quot;:&quot;(.*?)-(.*?)-(.*?) (.*?):(.*?):(.*?)&quot;,&quot;sysTime1&quot;:&quot;&#x27;</span>, content        )    <span class="hljs-built_in">print</span>(r.text[<span class="hljs-number">13</span>:<span class="hljs-number">29</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">27</span>:<span class="hljs-number">29</span>]))    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">23</span>:<span class="hljs-number">26</span>]))    mm = <span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">27</span>:<span class="hljs-number">29</span>])<span class="hljs-comment"># åˆ†é’Ÿ</span>    hh = <span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">23</span>:<span class="hljs-number">26</span>])<span class="hljs-comment"># å°æ—¶</span>    rtc = RTC()    time_date = rtc.datetime()    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;é‡ç½®æ—¶é—´ï¼&#x27;</span>)    rtc.datetime((time_date[<span class="hljs-number">0</span>], time_date[<span class="hljs-number">1</span>], time_date[<span class="hljs-number">2</span>], time_date[<span class="hljs-number">3</span>], hh, mm, time_date[<span class="hljs-number">6</span>], time_date[<span class="hljs-number">7</span>]))    rtc.datetime()<span class="hljs-comment">#è‡ªåŠ¨è”ç½‘</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">wifi_connect</span>():  wifi_led=Pin(<span class="hljs-number">23</span>,Pin.OUT)             <span class="hljs-comment"># æ¿è½½æŒ‡ç¤ºç¯åˆå§‹åŒ–    MODE1å·¦è¾¹</span>  wlan = network.WLAN(network.STA_IF)  <span class="hljs-comment"># ä»¥å·¥ä½œç«™ (wlan) æ¨¡å¼è¿è¡Œï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªå·¥ä½œç«™Wi-Fiæ¥å£çš„å®ä¾‹</span>  wlan.active(<span class="hljs-literal">True</span>)                    <span class="hljs-comment"># åœ¨å·¥ä½œç«™å¯¹è±¡ä¸Šè°ƒç”¨æ¿€æ´»æ–¹æ³•å¹¶ä»¥Trueä½œä¸ºè¾“å…¥å€¼ä¼ é€’æ¥æ¿€æ´»ç½‘ç»œæ¥å£</span>  start_time=time.time()               <span class="hljs-comment"># è®°å½•å¼€å§‹æ—¶é—´</span>  <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> wlan.isconnected():              <span class="hljs-comment"># å¦‚æœå°šæœªè”ç½‘æˆåŠŸ</span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å½“å‰æ— çº¿æœªè”ç½‘ï¼Œæ­£åœ¨è¿æ¥ä¸­....&quot;</span>)    wlan.connect(<span class="hljs-string">&#x27;***&#x27;</span>,<span class="hljs-string">&#x27;***&#x27;</span>)   <span class="hljs-comment"># æ— çº¿ç½‘SSIDã€å¯†ç ï¼Œå¼€å§‹è”ç½‘</span>    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> wlan.isconnected():         <span class="hljs-comment"># å¦‚æœè¿˜æœªè¿æ¥æˆåŠŸï¼Œåˆ™LEDç¯é—ªçƒæç¤º</span>      wifi_led.value(<span class="hljs-number">0</span>)      time.sleep_ms(<span class="hljs-number">1000</span>)      wifi_led.value(<span class="hljs-number">0</span>)      time.sleep_ms(<span class="hljs-number">1000</span>)      <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨å°è¯•è¿æ¥åˆ°wifi....&quot;</span>)      <span class="hljs-built_in">print</span>(time.time())      <span class="hljs-keyword">if</span> time.time()-start_time&gt;<span class="hljs-number">15</span>:       <span class="hljs-comment"># å¦‚æœè¶…è¿‡15ç§’è¿˜ä¸è¡Œï¼Œå°±é€€å‡º</span>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¿æ¥å¤±è´¥!!!æ— çº¿ç½‘è¿æ¥è¶…è¿‡15ç§’ï¼Œè¯·æ£€æŸ¥æ— çº¿ç½‘åç§°å’Œå¯†ç æ˜¯å¦æ­£ç¡®..&quot;</span>)        <span class="hljs-keyword">break</span>  <span class="hljs-keyword">if</span> wlan.isconnected():                  <span class="hljs-comment"># å¦‚æœè”æ¥æˆåŠŸ</span>    wifi_led.value(<span class="hljs-number">0</span>)                     <span class="hljs-comment"># LEDç¯å¸¸äº®</span>    IP_info=wlan.ifconfig()    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;##################################################&quot;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ— çº¿ç½‘å·²ç»è¿æ¥ï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š&quot;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;IPåœ°å€ï¼š&quot;</span>+IP_info[<span class="hljs-number">0</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å­ç½‘æ©ç ï¼š&quot;</span>+IP_info[<span class="hljs-number">1</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç½‘å…³ï¼š&quot;</span>+IP_info[<span class="hljs-number">2</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;DNSï¼š&quot;</span>+IP_info[<span class="hljs-number">3</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;##################################################&quot;</span>)<span class="hljs-comment">#     get_time_pa()</span>oled_str1=<span class="hljs-string">&#x27;&#x27;</span>oled_str2=<span class="hljs-string">&#x27;&#x27;</span>oled_str3=<span class="hljs-string">&#x27;&#x27;</span>oled_str4=<span class="hljs-string">&#x27;&#x27;</span>oled_str5=<span class="hljs-string">&#x27;&#x27;</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">oled_process</span>(<span class="hljs-params">str1,ip,oled,graphics</span>):<span class="hljs-comment">#     i2c = machine.I2C(scl=machine.Pin(18), sda=machine.Pin(19))</span><span class="hljs-comment">#     oled = ssd1306.SSD1306_I2C(128 ,64 ,i2c)</span><span class="hljs-comment">#     graphics = gfx.GFX(128, 64, oled.pixel)</span>    <span class="hljs-keyword">global</span> oled_str1    <span class="hljs-keyword">global</span> oled_str2    <span class="hljs-keyword">global</span> oled_str3    <span class="hljs-keyword">global</span> oled_str4    <span class="hljs-keyword">global</span> oled_str5    oled_str1=oled_str2    oled_str2=oled_str3    oled_str3=oled_str4    oled_str4=oled_str5    oled_str5=str1    oled.fill(<span class="hljs-number">0</span>)    graphics._slow_vline(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">1</span>)    graphics._slow_vline(<span class="hljs-number">127</span>, <span class="hljs-number">0</span>, <span class="hljs-number">128</span>, <span class="hljs-number">1</span>)    graphics._slow_hline(<span class="hljs-number">0</span>, <span class="hljs-number">15</span>, <span class="hljs-number">128</span>, <span class="hljs-number">1</span>)    graphics._slow_hline(<span class="hljs-number">0</span>, <span class="hljs-number">16</span>, <span class="hljs-number">128</span>, <span class="hljs-number">1</span>)    graphics._slow_hline(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">128</span>, <span class="hljs-number">1</span>)    graphics._slow_hline(<span class="hljs-number">0</span>, <span class="hljs-number">63</span>, <span class="hljs-number">128</span>, <span class="hljs-number">1</span>)    oled.text(<span class="hljs-string">&quot;port:10000 &amp; ip&quot;</span>,<span class="hljs-number">0</span>+<span class="hljs-number">2</span>,<span class="hljs-number">0</span>)    oled.text(ip,<span class="hljs-number">0</span>+<span class="hljs-number">2</span>,<span class="hljs-number">8</span>)    oled.text(oled_str5,<span class="hljs-number">0</span>+<span class="hljs-number">2</span>,<span class="hljs-number">16</span>+<span class="hljs-number">2</span>)    oled.text(oled_str4,<span class="hljs-number">0</span>+<span class="hljs-number">2</span>,<span class="hljs-number">24</span>+<span class="hljs-number">2</span>)    oled.text(oled_str3,<span class="hljs-number">0</span>+<span class="hljs-number">2</span>,<span class="hljs-number">32</span>+<span class="hljs-number">2</span>)    oled.text(oled_str2,<span class="hljs-number">0</span>+<span class="hljs-number">2</span>,<span class="hljs-number">40</span>+<span class="hljs-number">2</span>)    oled.text(oled_str1,<span class="hljs-number">0</span>+<span class="hljs-number">2</span>,<span class="hljs-number">48</span>+<span class="hljs-number">2</span>)    oled.show()<span class="hljs-comment"># æ˜¾ç¤ºå±ä»£ç </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">oled_try</span>():    <span class="hljs-keyword">try</span>:        i2c = machine.I2C(scl=machine.Pin(<span class="hljs-number">18</span>), sda=machine.Pin(<span class="hljs-number">19</span>))        oled = ssd1306.SSD1306_I2C(<span class="hljs-number">128</span> ,<span class="hljs-number">64</span> ,i2c)        graphics = gfx.GFX(<span class="hljs-number">128</span>, <span class="hljs-number">64</span>, oled.pixel)        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;get&quot;</span>)        connect_to_phone_oled(oled,graphics)    <span class="hljs-keyword">except</span>:        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;false&quot;</span>)        connect_to_phone()<span class="hljs-comment"># è·å–èŠ¯ç‰‡æ¸©åº¦</span><span class="hljs-comment"># def wendu():</span><span class="hljs-comment">#     f = esp32.raw_temperature()</span><span class="hljs-comment">#     c = (f-32)/1.8</span><span class="hljs-comment">#     print(c)</span><span class="hljs-comment">#     oled.text(&quot;IC:&quot; + str(int(c)),20,0)</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">connect_to_phone_oled</span>(<span class="hljs-params">oled,graphics</span>):    <span class="hljs-keyword">try</span>:        ip = Wifi.ifconfig()[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]   <span class="hljs-comment">#è·å–IPåœ°å€</span>        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)   <span class="hljs-comment">#è®¾ç½®å¥—æ¥å­—</span>        sockaddr = socket.getaddrinfo(ip, port)        <span class="hljs-built_in">print</span>(sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>])        s.bind(sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>])        oled_process(sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>][<span class="hljs-number">0</span>],sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>][<span class="hljs-number">0</span>],oled,graphics)        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;oled&quot;</span>)        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;tcp waiting...&#x27;</span>)        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:            data, addr = s.recvfrom(<span class="hljs-number">1024</span>)            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;From %s %s&#x27;</span> % addr)            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;data is %s&#x27;</span> % data)            data_utf8 = <span class="hljs-built_in">bytes</span>.decode(data)            oled_process(data_utf8,sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>][<span class="hljs-number">0</span>],oled,graphics)            data_size = s.sendto(data, addr)    <span class="hljs-comment">#             print(&#x27;From %s %s&#x27; % data_utf8)</span>    <span class="hljs-comment">#             print(&#x27;data is %s&#x27; % data_utf8)</span>            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_1_on&quot;</span>:                LED_1.value(<span class="hljs-number">0</span>)<span class="hljs-comment">#                 data_size = s.sendto(&quot;led_1_on&quot;, addr)</span>            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_2_on&quot;</span>:                LED_2.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_1_off&quot;</span>:                LED_1.value(<span class="hljs-number">1</span>)<span class="hljs-comment">#                 data_size = s.sendto(&quot;led_1_off&quot;, addr)</span>            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_2_off&quot;</span>:                LED_2.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_3_on&quot;</span>:                LED_3.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_4_on&quot;</span>:                LED_4.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_3_off&quot;</span>:                LED_3.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_4_off&quot;</span>:                LED_4.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_5_on&quot;</span>:                LED_5.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_6_on&quot;</span>:                LED_6.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_5_off&quot;</span>:                LED_5.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_6_off&quot;</span>:                LED_6.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_7_on&quot;</span>:                LED_7.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_7_off&quot;</span>:                LED_7.value(<span class="hljs-number">1</span>)    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">if</span>(listenSocket):   <span class="hljs-comment">#åˆ¤æ–­å¥—æ¥å­—æ˜¯å¦ä¸ºç©º</span>            listenSocket.close()   <span class="hljs-comment">#å…³é—­å¥—æ¥å­—</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">connect_to_phone</span>():    <span class="hljs-keyword">try</span>:        ip = Wifi.ifconfig()[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]   <span class="hljs-comment">#è·å–IPåœ°å€</span>        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)   <span class="hljs-comment">#è®¾ç½®å¥—æ¥å­—</span>        sockaddr = socket.getaddrinfo(ip, port)        <span class="hljs-built_in">print</span>(sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>])        s.bind(sockaddr[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>])        <span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;tcp waiting...&#x27;</span>)        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:            data, addr = s.recvfrom(<span class="hljs-number">1024</span>)            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;From %s %s&#x27;</span> % addr)            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;data is %s&#x27;</span> % data)            data_utf8 = <span class="hljs-built_in">bytes</span>.decode(data)<span class="hljs-comment">#             print(&#x27;From %s %s&#x27; % data_utf8)</span><span class="hljs-comment">#             print(&#x27;data is %s&#x27; % data_utf8)</span>            data_size = s.sendto(data, addr)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_1_on&quot;</span>:                LED_1.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_2_on&quot;</span>:                LED_2.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_1_off&quot;</span>:                LED_1.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_2_off&quot;</span>:                LED_2.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_3_on&quot;</span>:                LED_3.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_4_on&quot;</span>:                LED_4.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_3_off&quot;</span>:                LED_3.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_4_off&quot;</span>:                LED_4.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_5_on&quot;</span>:                LED_5.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_6_on&quot;</span>:                LED_6.value(<span class="hljs-number">0</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_5_off&quot;</span>:                LED_5.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_6_off&quot;</span>:                LED_6.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_7_on&quot;</span>:                LED_7.value(<span class="hljs-number">1</span>)            <span class="hljs-keyword">if</span> data_utf8 == <span class="hljs-string">&quot;led_7_off&quot;</span>:                LED_7.value(<span class="hljs-number">1</span>)    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">if</span>(listenSocket):   <span class="hljs-comment">#åˆ¤æ–­å¥—æ¥å­—æ˜¯å¦ä¸ºç©º</span>            listenSocket.close()   <span class="hljs-comment">#å…³é—­å¥—æ¥å­—</span>wifi_connect()oled_try()</code></pre><h2 id="æµ‹è¯•è§†å±"><a class="markdownIt-Anchor" href="#æµ‹è¯•è§†å±"></a> æµ‹è¯•è§†å±</h2><iframe height=520 width=776  src="//player.bilibili.com/player.html?aid=798143285&bvid=BV1Ay4y1D7T9&cid=269108454&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="max-width: 100%, text-align: center" > </iframe>]]></content>
      
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°</title>
      <link href="/2020/12/12/wei_xin_xiao_cheng_xu_1/wei_xin_xiao_cheng_xu_xue_xi_bi_ji/"/>
      <url>/2020/12/12/wei_xin_xiao_cheng_xu_1/wei_xin_xiao_cheng_xu_xue_xi_bi_ji/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å¼€å‘æ–‡æ¡£é“¾æ¥"><a class="markdownIt-Anchor" href="#å¼€å‘æ–‡æ¡£é“¾æ¥"></a> å¼€å‘æ–‡æ¡£é“¾æ¥</h2><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/">å¾®ä¿¡å®˜æ–¹æ–‡æ¡£</a></p><h2 id="æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ–‡ä»¶"></a> æ–‡ä»¶</h2><p>å…¨å±€æ–‡ä»¶ï¼š</p><ul><li>app.js å…¨å±€ js æ–‡ä»¶ï¼šjs ä»£ç å…¨å±€å¯ä»¥è°ƒç”¨</li><li>app.json å…¨å±€é…ç½®æ–‡ä»¶ï¼šå¯¼èˆªæ ï¼ŒèƒŒæ™¯é¢œè‰²ï¼Œæ ‡é¢˜ï¼Œçª—å£é…ç½®</li><li>app.wxss å…¨å±€æ ·å¼æ–‡ä»¶ï¼šç»Ÿä¸€æ ·å¼</li><li>utils æ–‡ä»¶å¤¹ï¼šå°è£…è‡ªå®šä¹‰çš„å·¥å…·</li><li>pages å°ç¨‹åºé¡µé¢æ–‡ä»¶å¤¹ï¼šæ‰€æœ‰çš„é¡µé¢éƒ½åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ç®¡ç†ï¼Œpages æ–‡ä»¶å¤¹ä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶å¤¹ä»£è¡¨ä¸€ä¸ªé¡µé¢ã€‚</li></ul><p>å±€éƒ¨æ–‡ä»¶ï¼šä¸€ä¸ªé¡µé¢çš„æ–‡ä»¶</p><ul><li>wxml</li><li>wxss</li><li>js</li><li>json</li></ul><h3 id="appjson"><a class="markdownIt-Anchor" href="#appjson"></a> app.json</h3><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span>  <span class="hljs-attr">&quot;pages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;pages/index/index&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;pages/logs/logs&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//é¡µé¢ç®¡ç†</span>  <span class="hljs-attr">&quot;window&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>    <span class="hljs-comment">//çª—å£ç•Œé¢</span>    <span class="hljs-attr">&quot;backgroundTextStyle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;light&quot;</span><span class="hljs-punctuation">,</span>    <span class="hljs-attr">&quot;navigationBarBackgroundColor&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#fff&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//å¯¼èˆªæ é¢œè‰²</span>    <span class="hljs-attr">&quot;navigationBarTitleText&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Weixin&quot;</span><span class="hljs-punctuation">,</span>    <span class="hljs-attr">&quot;navigationBarTextStyle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;black&quot;</span>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>  <span class="hljs-attr">&quot;style&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;v2&quot;</span><span class="hljs-punctuation">,</span>  <span class="hljs-attr">&quot;sitemapLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;sitemap.json&quot;</span><span class="hljs-punctuation">&#125;</span></code></pre><p>è‹¥è¦æ·»åŠ é¡µé¢æˆ–è€…ç›´æ¥åœ¨<code>&quot;pages&quot;: [&quot;pages/index/index&quot;, &quot;pages/logs/logs&quot;]</code>ä¸­æ·»åŠ ï¼ŒIDE ä¼šç›´æ¥ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹åŠå†…éƒ¨é¡µé¢æ–‡ä»¶ã€‚</p><p>è‹¥åœ¨å…¨å±€é…ç½®ä¸­çª—å£ç•Œé¢é…ç½®äº†<code>&quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;</code>çš„åŒæ—¶ï¼Œåœ¨å•ä¸ªé¡µé¢(ä¾‹å¦‚ logo é¡µé¢)çš„é…ç½®æ–‡ä»¶ä¹Ÿé…ç½®äº†<code>&quot;navigationBarBackgroundColor&quot;: &quot;#000&quot;</code>ï¼Œè¿™æ˜¯åªæœ‰å½“è·³è½¬åˆ°(ä¾‹å¦‚ logo é¡µé¢)æ—¶ï¼Œå¯¼èˆªæ é¢œè‰²æ‰ä¼šå˜æˆ#000ã€‚</p><h3 id="å¾®ä¿¡å°ç¨‹åºä¸­çš„-js"><a class="markdownIt-Anchor" href="#å¾®ä¿¡å°ç¨‹åºä¸­çš„-js"></a> å¾®ä¿¡å°ç¨‹åºä¸­çš„ js</h3><h4 id="å˜é‡"><a class="markdownIt-Anchor" href="#å˜é‡"></a> å˜é‡</h4><p>js å˜é‡ï¼šç”¨äºå‚¨å­˜ä¿¡æ¯çš„å®¹å™¨<br />å£°æ˜æ—¶ä½¿ç”¨ var+å˜é‡åï¼Œå˜é‡ç±»å‹é€šè¿‡èµ‹å€¼æ¥å†³å®š<br />æ³¨æ„ï¼šå˜é‡å¿…é¡»ä¸€å­—æ¯å¼€å¤´ï¼Œä¹Ÿå¯ä»¥$å’Œ_å¼€å¤´ï¼Œå¤§å°å†™æ•æ„Ÿ</p><pre><code class="hljs js"><span class="hljs-keyword">var</span> answer = <span class="hljs-string">&quot;It&#x27;s alright&quot;</span>;<span class="hljs-keyword">var</span> x1 = <span class="hljs-number">43.0</span>;<span class="hljs-keyword">var</span> x = <span class="hljs-literal">true</span>;<span class="hljs-keyword">var</span> cars = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();cars[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;Saab&quot;</span>;<span class="hljs-keyword">var</span> cars = [<span class="hljs-string">&quot;saab&quot;</span>, <span class="hljs-string">&quot;Volor&quot;</span>];<span class="hljs-keyword">var</span> person = <span class="hljs-literal">null</span>; <span class="hljs-comment">//æ¸…ç©ºå˜é‡å†…å®¹</span><span class="hljs-keyword">var</span> carname; <span class="hljs-comment">//æ‰§è¡Œåå†…å®¹ä¸ºundefined</span></code></pre><h4 id="å¯¹è±¡"><a class="markdownIt-Anchor" href="#å¯¹è±¡"></a> å¯¹è±¡</h4><pre><code class="hljs js"><span class="hljs-keyword">var</span> person = &#123;  <span class="hljs-attr">firstname</span>: <span class="hljs-string">&quot;John&quot;</span>,  <span class="hljs-attr">lastname</span>: <span class="hljs-string">&quot;Doe&quot;</span>,  <span class="hljs-attr">id</span>: <span class="hljs-number">5566</span>,&#125;;</code></pre><p>å¯¹è±¡å¯»å€æ–¹å¼</p><pre><code class="hljs js">name = person.<span class="hljs-property">lastname</span>;name = person[<span class="hljs-string">&quot;lastname&quot;</span>];</code></pre><h4 id="è¿ç®—"><a class="markdownIt-Anchor" href="#è¿ç®—"></a> è¿ç®—</h4><p><code>+</code>,<code>-</code>,<code>*</code>,<code>/</code>,<code>%</code><br />æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œè¿”å›å€¼å‡ä¸º<code>FALSE</code>&amp;<code>TRUE</code><br /><img src="" alt="æ¯”è¾ƒè¿ç®—ç¬¦" /></p><p>é€»è¾‘è¿ç®—ç¬¦<br /><code>&amp;&amp;</code>,<code>||</code>,<code>ï¼</code></p><pre><code class="hljs js">y = <span class="hljs-number">5</span>;z = <span class="hljs-number">2</span>;x = y + z;txt1 = <span class="hljs-string">&quot;what a very&quot;</span>;txt2 = <span class="hljs-string">&quot;nice day&quot;</span>;txt3 = txt1 + txt2; <span class="hljs-comment">//æ­¤æ—¶txt3 = &quot;what a verynice day&quot;</span></code></pre><h4 id="æ¡ä»¶"><a class="markdownIt-Anchor" href="#æ¡ä»¶"></a> æ¡ä»¶</h4><h5 id="if"><a class="markdownIt-Anchor" href="#if"></a> if</h5><pre><code class="hljs js"><span class="hljs-keyword">if</span> (condition) &#123;  <span class="hljs-comment">//å½“conditionä¸ºtrueæ—¶ï¼Œæ‰æ‰§è¡Œä¸‹é¢è¯­å¥</span>&#125;<span class="hljs-keyword">if</span> (condition) &#123;  <span class="hljs-comment">//å½“conditionä¸ºtrueæ—¶ï¼Œæ‰æ‰§è¡Œä¸‹é¢è¯­å¥</span>&#125; <span class="hljs-keyword">else</span> &#123;  <span class="hljs-comment">//å¦åˆ™æ‰§è¡Œä¸‹é¢ä»£ç </span>&#125;<span class="hljs-keyword">if</span> (condition) &#123;  <span class="hljs-comment">//å½“conditionä¸ºtrueæ—¶ï¼Œæ‰æ‰§è¡Œä¸‹é¢è¯­å¥</span>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (condition1) &#123;  <span class="hljs-comment">//å¦åˆ™æ‰§è¡Œä¸‹é¢ä»£ç </span>&#125; <span class="hljs-keyword">else</span> &#123;  <span class="hljs-comment">//å¦åˆ™æ‰§è¡Œä¸‹é¢ä»£ç </span>&#125;</code></pre><h4 id="å¾ªç¯"><a class="markdownIt-Anchor" href="#å¾ªç¯"></a> å¾ªç¯</h4><h5 id="for"><a class="markdownIt-Anchor" href="#for"></a> for</h5><pre><code class="hljs js"><span class="hljs-keyword">for</span> (è¯­å¥<span class="hljs-number">1</span>; è¯­å¥<span class="hljs-number">2</span>; è¯­å¥<span class="hljs-number">3</span>) &#123;  <span class="hljs-comment">//è¢«æ‰§è¡Œçš„ä»£ç ï¼Œè¯­æ³•å’ŒCè¯­è¨€ç›¸ä¼¼</span>&#125;<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;  x = x + <span class="hljs-number">1</span>;&#125;</code></pre><h4 id="å°ç¨‹åºä¸­è‡ªåŠ¨ç”Ÿæˆçš„-js-ä»£ç "><a class="markdownIt-Anchor" href="#å°ç¨‹åºä¸­è‡ªåŠ¨ç”Ÿæˆçš„-js-ä»£ç "></a> å°ç¨‹åºä¸­è‡ªåŠ¨ç”Ÿæˆçš„ js ä»£ç </h4><pre><code class="hljs js"><span class="hljs-comment">// pages/index/index.js</span><span class="hljs-title class_">Page</span>(&#123;  <span class="hljs-comment">/**</span><span class="hljs-comment">   * é¡µé¢çš„åˆå§‹æ•°æ®</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">data</span>: &#123;&#125;,  <span class="hljs-comment">/**</span><span class="hljs-comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">onLoad</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">options</span>) &#123;&#125;,  <span class="hljs-comment">/**</span><span class="hljs-comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">onReady</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;,  <span class="hljs-comment">/**</span><span class="hljs-comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢æ˜¾ç¤º</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">onShow</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;,  <span class="hljs-comment">/**</span><span class="hljs-comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢éšè—</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">onHide</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;,  <span class="hljs-comment">/**</span><span class="hljs-comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢å¸è½½</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">onUnload</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;,  <span class="hljs-comment">/**</span><span class="hljs-comment">   * é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°--ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">onPullDownRefresh</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;,  <span class="hljs-comment">/**</span><span class="hljs-comment">   * é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•°</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">onReachBottom</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;,  <span class="hljs-comment">/**</span><span class="hljs-comment">   * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº«</span><span class="hljs-comment">   */</span>  <span class="hljs-attr">onShareAppMessage</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;,&#125;);</code></pre><h5 id="page"><a class="markdownIt-Anchor" href="#page"></a> page</h5><pre><code class="hljs js"><span class="hljs-title class_">Page</span>(&#123;  <span class="hljs-comment">//é¡µé¢å†…å®¹ï¼Œä¸å†™ä»»ä½•ä¸œè¥¿ä¹Ÿä¸ä¼šæŠ¥é”™</span>&#125;);</code></pre><h6 id="data-å’Œå‡½æ•°"><a class="markdownIt-Anchor" href="#data-å’Œå‡½æ•°"></a> data å’Œå‡½æ•°</h6><p>data å¯¹è±¡</p><pre><code class="hljs js"><span class="hljs-attr">data</span>:&#123;  <span class="hljs-attr">msg</span>:<span class="hljs-string">&#x27;hello!&#x27;</span>,  <span class="hljs-attr">flag</span>:<span class="hljs-literal">false</span>&#125;</code></pre><p>function å‡½æ•°</p><pre><code class="hljs js"><span class="hljs-keyword">function</span>(<span class="hljs-params">å‚æ•°</span>)&#123;  <span class="hljs-comment">//å‡½æ•°å†…å®¹</span>&#125;,</code></pre><h5 id="å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œå›æ‰å‡½æ•°"><a class="markdownIt-Anchor" href="#å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œå›æ‰å‡½æ•°"></a> å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œå›æ‰å‡½æ•°</h5><pre><code class="hljs gherkin">åŠ è½½ |<span class="hljs-string"></span><span class="hljs-string">æ¸²æŸ“</span><span class="hljs-string"> </span>|æ˜¾ç¤º----&gt;éšè— |<span class="hljs-string">       </span>| |<span class="hljs-string">       </span>|å¸è½½<span class="hljs-variable">&lt;----éšè—</span></code></pre><p>å½“ç¨‹åºè¿è¡Œåˆ°å„ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„èŠ‚ç‚¹æ—¶ï¼Œä¼šæ‰§è¡Œç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°</p><p>å›æ‰å‡½æ•°ï¼š</p><ul><li>onLoad() é¡µé¢åŠ è½½æ—¶è§¦å‘</li><li>onShow() é¡µé¢æ˜¾ç¤º/åˆ‡å…¥å‰å°è§¦å‘</li><li>onReady() é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆæ—¶è§¦å‘<br />è¿è¡Œå®Œä¸Šé¢æµç¨‹å³è¿›å…¥æ¿€æ´»çŠ¶æ€</li><li>onShow() é¡µé¢æ˜¾ç¤º/åˆ‡å…¥å‰å°è§¦å‘</li><li>onHide() é¡µé¢å½±è—/åˆ‡å…¥åå°è§¦å‘</li><li>onUnload() é¡µé¢å¸è½½æ—¶è§¦å‘</li><li>onPullDownRefresh() ä¸‹æ‹‰åˆ·æ–°</li><li>onReachBottom()ä¸Šæ‹‰è§¦åº•äº‹ä»¶</li><li>onShareAppMessage() è½¬å‘æŒ‰é’®ï¼Œè‡ªå®šä¹‰è½¬å‘å†…å®¹</li></ul><h5 id="äº‹ä»¶å“åº”"><a class="markdownIt-Anchor" href="#äº‹ä»¶å“åº”"></a> äº‹ä»¶å“åº”</h5><p>äº‹ä»¶ï¼šè§†å›¾å±‚åˆ°é€»è¾‘å±‚çš„é€šè®¯æ–¹å¼ï¼Œå°†ç”¨æˆ·çš„è¡Œä¸ºåé¦ˆåˆ°é€»è¾‘å±‚<br />å³äº‹ä»¶å¯ä»¥é€šè¿‡åœ¨ wxml ä¸­ç»‘å®šåœ¨ç»„ä»¶ä¸Šï¼Œè¾¾åˆ°è§¦å‘æ¡ä»¶æ—¶ï¼Œä¼šè§¦å‘ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°(äº‹ä»¶å“åº”)å¯¹è±¡å¯ä»¥é¢å¤–æºå¸¦å¦‚ id,dataset ç­‰é¢å¤–ä¿¡æ¯</p><p>ç»„å»ºäº‹ä»¶å“åº”ï¼š</p><ol><li><p>ç»„ä»¶ä¸Šç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°<br />ç‚¹å‡»äº‹ä»¶ç»‘å®šå¤„ç†å‡½æ•°çš„æ–¹æ³•ï¼šä½¿ç”¨<code>bindtap</code>å±æ€§ï¼Œå±æ€§å€¼ä¸º js ä¸­çš„äº‹ä»¶çš„äº‹ä»¶å¤„ç†å‡½æ•°çš„å‡½æ•°å</p><pre><code class="hljs js">&lt;view id=<span class="hljs-string">&quot;tapTest&quot;</span> data-hi=<span class="hljs-string">&quot;WeChat&quot;</span> bindtab=<span class="hljs-string">&quot;tapName&quot;</span>&gt;  <span class="hljs-title class_">Click</span> me!&lt;/view&gt;</code></pre></li><li><p>Page ä¸­å†™ç›¸åº”å‡½æ•°å¤„ç†äº‹ä»¶ï¼Œå•æ•°æ˜¯ eventï¼Œå‡½æ•°åè¦å’Œ wxml ä¸­ç»‘å®šçš„ bindtap å±æ€§å±æ€§å€¼ä¸€è‡´</p><pre><code class="hljs js"><span class="hljs-title class_">Page</span>(&#123;  <span class="hljs-title function_">tapName</span>(<span class="hljs-params">event</span>) &#123;    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event); <span class="hljs-comment">//è¯¥è¯­å¥å°†è·å–åˆ°çš„æ•°æ®æ‰“å°åœ¨äº†ç¼–è¯‘å™¨çš„çª—å£ä¸­</span>  &#125;,&#125;);</code></pre></li></ol><h5 id="å°ç¨‹åº-js-æ•°æ®å¤„ç†"><a class="markdownIt-Anchor" href="#å°ç¨‹åº-js-æ•°æ®å¤„ç†"></a> å°ç¨‹åº js æ•°æ®å¤„ç†</h5><h6 id="this-å…³é”®å­—"><a class="markdownIt-Anchor" href="#this-å…³é”®å­—"></a> this å…³é”®å­—</h6><p>thisï¼šå½“å‰å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ï¼Œåœ¨ä½¿ç”¨æ—¶å¾€å¾€æŒ‡å‘çš„æ˜¯ä¸Šä¸€å±‚å¯¹è±¡ï¼Œåœ¨å‡½æ•°ä¸­æ‰§è¡Œæ—¶æŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡</p><p>è®¿é—®é¡µé¢æ•°æ®ï¼šthis.data é¡µé¢åˆå§‹æ•°æ®çš„é‚£éƒ¨åˆ†<br />è°ƒç”¨é¡µé¢å†…çš„å‡½æ•°ï¼šthis.onload() æ‰§è¡Œè¿™ä¸€è¯­å¥å°±ä¼šæ‰§è¡Œ onload()å‡½æ•°</p><p>tips: è‹¥åœ¨ API ä¸­ä½¿ç”¨ thisï¼Œéœ€è¦åœ¨è°ƒç”¨ API å‰æš‚å­˜æŒ‡å‘é¡µé¢çš„ thisï¼Œä¾‹</p><pre><code class="hljs js"><span class="hljs-keyword">var</span> that = <span class="hljs-variable language_">this</span>;</code></pre><p>è°ƒç”¨æ–¹æ³•</p><pre><code class="hljs js"><span class="hljs-title class_">Page</span>(&#123;  <span class="hljs-attr">data</span>:&#123;    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,    <span class="hljs-attr">b</span>:<span class="hljs-string">&#x27;balabala&#x27;</span>,    <span class="hljs-attr">c</span>:[<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,]  &#125;,  <span class="hljs-attr">action</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">a</span>=<span class="hljs-number">666</span>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è¿™æ˜¯æ–°çš„å‡½æ•°&quot;</span>)  &#125;,  <span class="hljs-attr">onLoad</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>)&#123;    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>)<span class="hljs-comment">//è°ƒæ—¶çª—å£æ‰“å°å‡ºdataä¸­çš„æ‰€æœ‰å€¼</span>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">action</span>()<span class="hljs-comment">//è°ƒç”¨actionå‡½æ•°</span>  &#125;&#125;)</code></pre><h6 id="é¡µé¢æ•°æ®æ›´æ–°"><a class="markdownIt-Anchor" href="#é¡µé¢æ•°æ®æ›´æ–°"></a> é¡µé¢æ•°æ®æ›´æ–°</h6><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;  <span class="hljs-comment">//å˜é‡åï¼šæ–°çš„å€¼ï¼Œ</span>  <span class="hljs-comment">//å˜é‡åï¼šæ–°çš„å€¼ï¼Œ</span>  <span class="hljs-comment">//å˜é‡åï¼šæ–°çš„å€¼</span>  <span class="hljs-attr">a</span>: <span class="hljs-number">8888</span>,&#125;);</code></pre><h6 id="ä¸åŒé¡µé¢çš„æ•°æ®å‡ºä¼ é€’"><a class="markdownIt-Anchor" href="#ä¸åŒé¡µé¢çš„æ•°æ®å‡ºä¼ é€’"></a> ä¸åŒé¡µé¢çš„æ•°æ®å‡ºä¼ é€’</h6><p>æ–¹æ³•æœ‰äºŒï¼Œå…¶ä¸€ï¼Œé¡µé¢è·³è½¬è¿‡ç¨‹ä¸­æºå¸¦å‚æ•°ã€‚å…¶äºŒï¼Œå°†æ•°æ®å­˜äºå…¨å±€æ•°æ®ä¸­ï¼Œå„ä¸ªé¡µé¢åœ¨ä»å…¨å±€ä¸­è¯»å–</p><p>ç¬¬äºŒç§ç”¨æ³•ï¼šåœ¨ app.js ä¸­</p><pre><code class="hljs js"><span class="hljs-title class_">App</span>(&#123;  <span class="hljs-attr">globalData</span>: &#123;    <span class="hljs-comment">//globalDataå¯ä»¥æ”¹æˆå…¶ä»–åç§°</span>    <span class="hljs-attr">userInfo</span>: <span class="hljs-literal">null</span>,  &#125;,&#125;);</code></pre><p>å„ä¸ªé¡µé¢ä¸å…¨å±€æ•°æ®è¿›è¡Œäº¤äº’ï¼Œä½¿ç”¨<code>getApp()</code>å†ç¨‹å¦‚ä¸‹:</p><p>é¡µé¢çš„ js æ–‡ä»¶å¦‚ä¸‹</p><pre><code class="hljs js"><span class="hljs-attr">onLoad</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>)&#123;  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getApp</span>().<span class="hljs-property">globalData</span>.<span class="hljs-property">abc</span>)  <span class="hljs-title function_">getApp</span>().<span class="hljs-property">globalData</span>.<span class="hljs-property">abc</span> = <span class="hljs-number">456</span>&#125;</code></pre><p>app.js æ–‡ä»¶ä¸­å«æœ‰å¦‚ä¸‹</p><pre><code class="hljs js"><span class="hljs-title class_">App</span>(&#123;  <span class="hljs-attr">globalData</span>: &#123;    <span class="hljs-comment">//globalDataå¯ä»¥æ”¹æˆå…¶ä»–åç§°</span>    <span class="hljs-attr">userInfo</span>: <span class="hljs-literal">null</span>,    <span class="hljs-attr">abc</span>: <span class="hljs-number">1234</span>,    <span class="hljs-attr">d</span>: [],  &#125;,&#125;);</code></pre><h3 id="å¾®ä¿¡å°ç¨‹åºçš„-api-ä»‹ç»"><a class="markdownIt-Anchor" href="#å¾®ä¿¡å°ç¨‹åºçš„-api-ä»‹ç»"></a> å¾®ä¿¡å°ç¨‹åºçš„ API ä»‹ç»</h3><p>API çš„ç±»å‹ï¼š</p><ul><li>äº‹ä»¶ç›‘å¬ APIï¼šä»¥ on å¼€å¤´ç”¨äºç›‘å¬</li><li>åŒæ­¥ APIï¼šä»¥ Sync ç»“å°¾çš„ API éƒ½æ˜¯åŒæ­¥ APIï¼Œèµ·æ‰§è¡Œç»“æœå¯é€šè¿‡å‡½æ•°è¿”å›å€¼ç›´æ¥è·å–ã€‚å½“æ‰§è¡Œåˆ° API æ—¶ï¼Œåœæ­¢ç»„ä»¶è¿›ç¨‹ç­‰å¾… API æ‰§è¡Œå®Œã€‚</li><li>å¼‚æ­¥ APIï¼šéƒ½æ¥å—ä¸€ä¸ª object ç±»å‹çš„å‚æ•°ã€‚ç¨‹åºä¼šå¯åŠ¨ä¸€ä¸ªåˆ†æ”¯æ¥è¿è¡Œ API</li></ul><h4 id="api-å†…å®¹"><a class="markdownIt-Anchor" href="#api-å†…å®¹"></a> API å†…å®¹</h4><ul><li>success éƒ¨åˆ†ï¼šæ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</li><li>fail éƒ¨åˆ†ï¼šæ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</li><li>complete éƒ¨åˆ†ï¼šæ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°</li></ul><p>å¾®ä¿¡ç™»é™† API</p><pre><code class="hljs js">wx.<span class="hljs-title function_">login</span>(&#123;  <span class="hljs-title function_">success</span>(<span class="hljs-params">res</span>) &#123;    <span class="hljs-comment">//æˆåŠŸæ‰§è¡Œ</span>  &#125;,  <span class="hljs-title function_">fail</span>(<span class="hljs-params">res</span>) &#123;    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-property">errMsg</span>);    <span class="hljs-comment">//å¤±è´¥æ‰§è¡Œ</span>  &#125;,  <span class="hljs-title function_">complete</span>(<span class="hljs-params">res</span>) &#123;    <span class="hljs-comment">//ä¸€å®šæ‰§è¡Œ</span>  &#125;,&#125;);</code></pre><p>Object ç±»å‹å‚æ•°åŒ…å«çš„å­—æ®µ</p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>errMsg</td><td>string</td><td>é”™è¯¯ä¿¡æ¯ï¼Œè‹¥æˆåŠŸä¸º</td></tr><tr><td>errCode</td><td>number</td><td>é”™è¯¯ç ï¼ŒæˆåŠŸæ—¶ä¸º 0</td></tr><tr><td>å…¶ä»–</td><td>Any</td><td>æ¥å£è¿”å›æ•°æ®</td></tr></tbody></table><h4 id="è°ƒç”¨-api-è¿›è¡Œé¡µé¢äº’äº¤"><a class="markdownIt-Anchor" href="#è°ƒç”¨-api-è¿›è¡Œé¡µé¢äº’äº¤"></a> è°ƒç”¨ API è¿›è¡Œé¡µé¢äº’äº¤</h4><ol><li>æ¶ˆæ¯æç¤ºæ¡†</li></ol><pre><code class="hljs js">wx.<span class="hljs-title function_">showToast</span>(&#123;  <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;æˆåŠŸ&quot;</span>, <span class="hljs-comment">//æ–‡å­—</span>  <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;success&quot;</span>, <span class="hljs-comment">//å¯¹å‹¾</span>  <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span>, <span class="hljs-comment">//å»¶æ—¶æ—¶é—´</span>&#125;);</code></pre><ol start="2"><li>æ¨¡æ€å¼¹çª—</li></ol><pre><code class="hljs js">wx.<span class="hljs-title function_">showModal</span>(&#123;  <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;æç¤º&quot;</span>,  <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;è¿™æ˜¯ä¸€ä¸ªæ¨¡æ€å¼¹çª—&quot;</span>,  <span class="hljs-title function_">success</span>(<span class="hljs-params">res</span>) &#123;    <span class="hljs-keyword">if</span> (res.<span class="hljs-property">confirm</span>) &#123;      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç”¨æˆ·ç‚¹å‡»ç¡®å®š&quot;</span>);    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (res.<span class="hljs-property">cancel</span>) &#123;      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç”¨æˆ·ç‚¹å‡»å–æ¶ˆ&quot;</span>);    &#125;  &#125;,&#125;);</code></pre><ol start="3"><li>Loading æç¤ºæ¡†</li></ol><pre><code class="hljs js">wx.<span class="hljs-title function_">showLoading</span>(&#123;  <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;åŠ è½½ä¸­&quot;</span>,&#125;);<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;  wx.<span class="hljs-title function_">hideLoading</span>(); <span class="hljs-comment">//å¿…é¡»è°ƒç”¨hideLoadingæ‰èƒ½å…³é—­loading</span>&#125;, <span class="hljs-number">2000</span>);</code></pre><ol start="4"><li>é¡µé¢è·¯ç”± API</li></ol><ul><li><code>wx.relaunch()</code>å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€åˆ°æŒ‡å®šé¡µé¢</li><li><code>wx.redirectTo()</code>å…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢</li><li><code>wx.navigateTo()</code>ä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢</li><li><code>wx.navigateBack()</code>å…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä¸Šä¸€çº§æˆ–å¤šçº§é¡µé¢</li></ul><pre><code class="hljs js">wx.<span class="hljs-title function_">relaunch</span>(&#123;  <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/pages/jsjs/jsjs&quot;</span>,&#125;);wx.<span class="hljs-title function_">redirectTo</span>(&#123;  <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;../jsjs/jsjs&quot;</span>,&#125;);wx.<span class="hljs-title function_">navigateTo</span>(&#123;  <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/pages/jsjs/jsjs&quot;</span>,&#125;);wx.<span class="hljs-title function_">navigateBack</span>(&#123;  <span class="hljs-attr">delta</span>: <span class="hljs-number">1</span>,&#125;);</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP32_ç‰©è”ç½‘é‚£äº›äº‹</title>
      <link href="/2020/12/03/esp32_wu_lian_wang_na_xie_shi/esp32_wu_lian_wang_na_xie_shi/"/>
      <url>/2020/12/03/esp32_wu_lian_wang_na_xie_shi/esp32_wu_lian_wang_na_xie_shi/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="esp32_ç‰©è”ç½‘é‚£äº›äº‹"><a class="markdownIt-Anchor" href="#esp32_ç‰©è”ç½‘é‚£äº›äº‹"></a> ESP32_ç‰©è”ç½‘é‚£äº›äº‹</h2><p>é€šè¿‡æŸ¥é˜…èµ„æ–™ï¼ŒESP32 æ˜¯ä¸€æ¬¾ç‰©è”ç½‘æ¨¡å—ï¼Œå®ƒæ”¯æŒ TCP/IP åè®®ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ socket é€šè®¯ï¼Œå®ç°å±€åŸŸç½‘é€šä¿¡ï¼Œå®ƒä¹Ÿæ”¯æŒ MQTT é€šè®¯ï¼Œå‘µè¿œç¨‹è¿æ¥åˆ°é˜¿é‡Œäº‘ã€‚ä¸‹é¢çš„é“¾æ¥æœ‰è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜ã€‚</p><p><a target="_blank" rel="noopener" href="http://www.1zlab.com/wiki/micropython-esp32/sockets/">Socket é€šä¿¡</a></p><h2 id="ä½¿ç”¨ç‰©è”ç½‘ç¬¬ä¸€æ­¥çƒ§å½•å›ºä»¶"><a class="markdownIt-Anchor" href="#ä½¿ç”¨ç‰©è”ç½‘ç¬¬ä¸€æ­¥çƒ§å½•å›ºä»¶"></a> ä½¿ç”¨ç‰©è”ç½‘ç¬¬ä¸€æ­¥ï¼šçƒ§å½•å›ºä»¶</h2><p>è¿™é‡Œæåˆ°çš„å›ºä»¶æ˜¯micropythonå®˜æ–¹å‡ºçš„å›ºä»¶ï¼Œæˆ‘åœ¨ç½‘ä¸Šè¿˜çœ‹åˆ°äº†ä¸å°‘é€šè¿‡Cè¯­è¨€å†™.binå›ºä»¶çš„æ•™ç¨‹ï¼Œå¯ä»¥å†™è‡ªå·±éœ€è¦çš„å›ºä»¶åˆ·å…¥åˆ°ESP32ä¸­</p><p>å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« </p><p><a href="https://hp-l.gitee.io/2020/11/05/ESP32-micropython%E5%9B%BA%E4%BB%B6%E7%83%A7%E5%BD%95/esp32-micropython%E5%9B%BA%E4%BB%B6%E7%83%A7%E5%BD%95/?t=1606983183242">ESP32_micropythonå›ºä»¶çƒ§å½•</a></p><h2 id="å¦‚ä½•è¿æ¥åˆ°-wifi"><a class="markdownIt-Anchor" href="#å¦‚ä½•è¿æ¥åˆ°-wifi"></a> å¦‚ä½•è¿æ¥åˆ° WiFiï¼Ÿ</h2><p><a href="https://hp-l.gitee.io/2020/11/09/micropython%E8%81%94%E7%BD%91%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4/micropython%E8%81%94%E7%BD%91%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4/?t=1606983747012">Micropythonè”ç½‘åŒæ­¥æ—¶é—´</a></p><p>ESP32 æ˜¯å¯ä»¥ä½¿ç”¨ REPL çš„ï¼ŒREPL å°±åƒå±€åŸŸç½‘ä¸‹çš„ VSCodeï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸Šç¼–å†™ç¨‹åºï¼Œå¯æƒœä»–ä¸èƒ½å¼€æœºè‡ªå¯ï¼Œäºæ˜¯å°±æœ‰äººå¼€å‘äº†ä¸€æ¬¾å«åš EMP çš„ IDE ï¼Œä¸‹é¢æœ‰é“¾æ¥ã€‚</p><p><a target="_blank" rel="noopener" href="http://www.1zlab.com/wiki/micropython-esp32/emp-project/">EMPé¡¹ç›®ç®€ä»‹</a></p><p>æˆ‘åœ¨æ‰§è¡ŒåŸæ–‡æä¾›çš„ä»£ç æ—¶å‘ç°<code>set_boot_mode()</code>æŠ¥é”™</p><p>åŸæ–‡æä¾›çš„ä»£ç </p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> emp_boot <span class="hljs-keyword">import</span> set_boot_mode<span class="hljs-meta">&gt;&gt;&gt; </span>set_boot_mode()<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> emp_boot <span class="hljs-keyword">import</span> set_boot_mode<span class="hljs-meta">&gt;&gt;&gt; </span>set_boot_mode()[<span class="hljs-number">0</span>]  Boot <span class="hljs-keyword">with</span> nothing     attention: this option will clear up boot.py, careful![<span class="hljs-number">1</span>]  Boot <span class="hljs-keyword">with</span> wifi startup       this mode will auto start wifi connect program.[<span class="hljs-number">2</span>]  Easy to develop     this mode <span class="hljs-keyword">is</span> <span class="hljs-keyword">for</span> developers.In this mode you can develop much easier via EMP-         IDE(emp<span class="hljs-number">.1</span>zlab.com)Please <span class="hljs-built_in">input</span> your choice [<span class="hljs-number">0</span>-<span class="hljs-number">2</span>]:</code></pre><p>ä¸‹é¢ç»™å‡ºè§£å†³æ–¹æ¡ˆï¼š</p><p>åœ¨ ESP32 çš„ <a target="_blank" rel="noopener" href="http://boot.py">boot.py</a> ä¸­æ‰€æœ‰ä»£ç æ›¿æ¢æˆå¦‚ä¸‹ä»£ç ï¼š</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> emp_wifi <span class="hljs-keyword">import</span> Wifi<span class="hljs-keyword">from</span> emp_webrepl <span class="hljs-keyword">import</span> WebREPL<span class="hljs-keyword">from</span> emp_utils <span class="hljs-keyword">import</span> webrepl_pass<span class="hljs-keyword">from</span> emp_utils <span class="hljs-keyword">import</span> post_ip<span class="hljs-keyword">from</span> machine <span class="hljs-keyword">import</span> Pin <span class="hljs-comment"># å¼•ç”¨LEDä½¿ç”¨</span><span class="hljs-keyword">import</span> timewifi_LED = Pin(<span class="hljs-number">12</span>, Pin.OUT, value=<span class="hljs-number">1</span>) <span class="hljs-comment">#å®šä¹‰LED</span><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    Wifi.connect()    post_ip(Wifi.ifconfig()[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>])    wifi_LED.value(<span class="hljs-number">0</span>)    time.sleep(<span class="hljs-number">0.5</span>)    wifi_LED.value(<span class="hljs-number">1</span>)<span class="hljs-comment">#     WebREPL.start(password=webrepl_pass())</span><span class="hljs-comment">#     from emp_ide import *</span><span class="hljs-string">&#x27;&#x27;&#x27;</span><span class="hljs-string">ä¸Šé¢ä¸¤è¡Œæ˜¯è°ƒç”¨emp_ideï¼Œå–æ¶ˆæ³¨é‡Šå°±å¯ä»¥ä½¿ç”¨emp_ideï¼Œ</span><span class="hljs-string">è¿™é‡Œæ³¨é‡Šæ‰çš„åŸå› æ˜¯æƒ³ç›´æ¥è°ƒç”¨è¿æ¥WiFiçš„å‡½æ•°ä¸ä½¿ç”¨emp_ide</span><span class="hljs-string">&#x27;&#x27;&#x27;</span></code></pre><p>åœ¨æŒ‰å¤ä½å³å¯ï¼Œç»ˆç«¯ä¸­ä¼šæç¤ºè¿æ¥ç½‘ç»œå¹¶ä¸”è¾“å…¥å¯†ç ï¼Œè¿æ¥è¿‡çš„ WiFi ä¼šè¢«è®°ä½ï¼Œä¸‹æ¬¡è¿æ¥è‡ªåŠ¨è¿ï¼Œéå¸¸æ–¹ä¾¿</p><h2 id="åˆ©ç”¨-esp32-è”ç½‘å®ç°ä¸€äº›å°åŠŸèƒ½"><a class="markdownIt-Anchor" href="#åˆ©ç”¨-esp32-è”ç½‘å®ç°ä¸€äº›å°åŠŸèƒ½"></a> åˆ©ç”¨ ESP32 è”ç½‘å®ç°ä¸€äº›å°åŠŸèƒ½</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ socket é€šè®¯ä½¿å¾— PC å¯ä»¥ä¼ è¾“æ•°æ®æµåˆ° ESP32 ä¸­ï¼Œä¸‹é¢æ˜¯ä»£ç ï¼Œè¿™é‡Œä»¿ç…§çš„æ˜¯<a target="_blank" rel="noopener" href="http://www.1zlab.com/wiki/micropython-esp32/sockets/">Socket é€šä¿¡</a>æ–‡æœ«çš„ä»£ç ï¼ŒåŸæ–‡ä¸­ä»£ç åªèƒ½ä¼ è¾“å­—èŠ‚ï¼Œä¸‹é¢ä»£ç å¯ä»¥ä¼ è¾“ä¸­æ–‡å­—ç¬¦ï¼Œé€šè¿‡å®šä¹‰ IO å£å¯ä»¥å®ç°å±€åŸŸç½‘ç‚¹äº® LEDï¼Œç”šè‡³èˆµæœºã€‚</p><h3 id="esp32-tcp-æœåŠ¡ç«¯"><a class="markdownIt-Anchor" href="#esp32-tcp-æœåŠ¡ç«¯"></a> ESP32 TCP æœåŠ¡ç«¯</h3><pre><code class="hljs python"><span class="hljs-keyword">from</span> machine <span class="hljs-keyword">import</span> Timer,Pin,RTC <span class="hljs-comment">#è°ƒç”¨GPIOå£è°ƒç”¨å®šæ—¶å™¨åº“</span><span class="hljs-keyword">import</span> socket<span class="hljs-keyword">from</span> emp_wifi <span class="hljs-keyword">import</span> Wifi<span class="hljs-keyword">import</span> networkwifi = network.WLAN(network.STA_IF)wifi.active(<span class="hljs-literal">True</span>)<span class="hljs-comment"># è¿œç¨‹è¿æ¥ä¼ è¾“å‘½ä»¤å‡½æ•°</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">connect_to_phone</span>():    <span class="hljs-keyword">try</span>:        <span class="hljs-comment"># æ³¨æ„ï¼šçº¿è¿æ¥åˆ°WiFiç½‘ç»œï¼</span>        <span class="hljs-comment"># å¦‚æœæœªè¿æ¥åˆ°ç½‘ç»œï¼Œä»¥ä¸‹æ˜¯è¿æ¥åˆ°ç½‘ç»œçš„ä»£ç </span>        <span class="hljs-comment"># Wifi.connect()</span>        ip = Wifi.ifconfig()[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]   <span class="hljs-comment">#è·å–IPåœ°å€</span>        listenSocket = socket.socket()   <span class="hljs-comment">#åˆ›å»ºå¥—æ¥å­—</span>        listenSocket.bind((ip, port))   <span class="hljs-comment">#ç»‘å®šåœ°å€å’Œç«¯å£å·</span>        listenSocket.listen(<span class="hljs-number">1</span>)   <span class="hljs-comment">#ç›‘å¬å¥—æ¥å­—, æœ€å¤šå…è®¸ä¸€ä¸ªè¿æ¥</span>        listenSocket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="hljs-number">1</span>)   <span class="hljs-comment">#è®¾ç½®å¥—æ¥å­—</span>        <span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;tcp waiting...&#x27;</span>)        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;accepting.....&quot;</span>)            conn, addr = listenSocket.accept()   <span class="hljs-comment">#æ¥æ”¶è¿æ¥è¯·æ±‚ï¼Œè¿”å›æ”¶å‘æ•°æ®çš„å¥—æ¥å­—å¯¹è±¡å’Œå®¢æˆ·ç«¯åœ°å€</span>            <span class="hljs-built_in">print</span>(addr, <span class="hljs-string">&quot;connected&quot;</span>)            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:                data = conn.recv(<span class="hljs-number">1024</span>)   <span class="hljs-comment">#æ¥æ”¶æ•°æ®ï¼ˆ1024å­—èŠ‚å¤§å°ï¼‰</span>                <span class="hljs-keyword">if</span>(<span class="hljs-built_in">len</span>(data) == <span class="hljs-number">0</span>):   <span class="hljs-comment">#åˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ–­å¼€è¿æ¥</span>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;close socket&quot;</span>)                    conn.close()   <span class="hljs-comment">#å…³é—­å¥—æ¥å­—</span>                    <span class="hljs-keyword">break</span>    <span class="hljs-comment">#             print(data)</span>                code_utf8 = <span class="hljs-built_in">bytes</span>.decode(data)                <span class="hljs-built_in">print</span>(code_utf8)                ret = conn.send(data)   <span class="hljs-comment">#å‘é€æ•°æ®</span>                <span class="hljs-keyword">if</span> code_utf8 == <span class="hljs-string">&quot;led1 open&quot;</span>:                    B.value(<span class="hljs-number">0</span>)                <span class="hljs-keyword">if</span> code_utf8 == <span class="hljs-string">&quot;led2 open&quot;</span>:                    C.value(<span class="hljs-number">0</span>)                <span class="hljs-keyword">if</span> code_utf8 == <span class="hljs-string">&quot;led1 down&quot;</span>:                    B.value(<span class="hljs-number">1</span>)                <span class="hljs-keyword">if</span> code_utf8 == <span class="hljs-string">&quot;led2 down&quot;</span>:                    C.value(<span class="hljs-number">1</span>)    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">if</span>(listenSocket):   <span class="hljs-comment">#åˆ¤æ–­å¥—æ¥å­—æ˜¯å¦ä¸ºç©º</span>            listenSocket.close()   <span class="hljs-comment">#å…³é—­å¥—æ¥å­—</span>wifi_connect()</code></pre><h3 id="pc-ç«¯"><a class="markdownIt-Anchor" href="#pc-ç«¯"></a> PC ç«¯</h3><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><span class="hljs-comment"># PC TCP Client</span><span class="hljs-keyword">import</span> socket               <span class="hljs-comment"># å¯¼å…¥ socket æ¨¡å—</span>s = socket.socket()         <span class="hljs-comment"># åˆ›å»º socket å¯¹è±¡</span>host = <span class="hljs-string">&#x27;192.168.2.231&#x27;</span>      <span class="hljs-comment"># esp32 ip</span>port = <span class="hljs-number">10000</span>                <span class="hljs-comment"># è®¾ç½®ç«¯å£å·</span>s.connect((host, port))<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:        msg = raw_input(<span class="hljs-string">&#x27;&gt;&gt;&gt; &#x27;</span>)        s.send(msg)</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STM32å¼€å‘ç¯å¢ƒæ­å»º</title>
      <link href="/2020/11/25/stm32_kai_fa_huan_jing_da_jian/stm32_kai_fa_huan_jing_da_jian/"/>
      <url>/2020/11/25/stm32_kai_fa_huan_jing_da_jian/stm32_kai_fa_huan_jing_da_jian/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#å‡†å¤‡å·¥ä½œ"></a> å‡†å¤‡å·¥ä½œ</h2><p><a target="_blank" rel="noopener" href="https://www.st.com/en/development-tools/stm32cubeide.html">Integrated Development Environment for STM32</a></p><p>æ±‰åŒ–å’Œå®‰è£…ä¸»é¢˜è¯·å‚è€ƒä¸‹é¢çš„é“¾æ¥<br /><a target="_blank" rel="noopener" href="https://blog.csdn.net/wct3344142/article/details/104142863">https://blog.csdn.net/wct3344142/article/details/104142863</a></p><p>æˆ‘ä½¿ç”¨çš„ç½‘å€æ˜¯</p><pre><code class="hljs awk">http:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/eclipse/</span>technology<span class="hljs-regexp">/babel/u</span>pdate-site<span class="hljs-regexp">/R0.18.1/</span><span class="hljs-number">2019</span>-<span class="hljs-number">12</span>/</code></pre><p>é€‰é¡¹å’Œä¸Šé¢çš„é“¾æ¥é‡Œçš„ä¸ä¸€æ ·<br /><a href="https://hp-l.gitee.io/2020/11/25/STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/stm32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/IDE%E6%B1%89%E5%8C%96.png">thonny_download.png</a></p><h2 id="æ–°å»ºå·¥ç¨‹"><a class="markdownIt-Anchor" href="#æ–°å»ºå·¥ç¨‹"></a> æ–°å»ºå·¥ç¨‹</h2><p>æµç¨‹å¦‚å›¾(ç‚¹å¼€æŸ¥çœ‹å¤§å›¾)</p><p><img src="./IDE_new_project.png" alt="IDE_new_project" /><br /><img src="./IDE_new_project_1.png" alt="IDE_new_project_1" /><br /><img src="./IDE_new_project_2.png" alt="IDE_new_project_2" /></p><p><img src="./IDE_new_project_3.png" alt="IDE_new_project_3" /><br /><img src="./IDE_new_project_4.png" alt="IDE_new_project_4" /><br /><img src="./IDE_new_project_5.png" alt="IDE_new_project_5" /><br /><img src="./IDE_new_project_6.png" alt="IDE_new_project_6" /></p>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºArduino_ESP2866ç¯å¢ƒ</title>
      <link href="/2020/11/21/da_jian_arduino_esp2866_huan_jing/da_jian_arduino_esp2866_huan_jing/"/>
      <url>/2020/11/21/da_jian_arduino_esp2866_huan_jing/da_jian_arduino_esp2866_huan_jing/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸‹è½½-arduino-ide"><a class="markdownIt-Anchor" href="#ä¸‹è½½-arduino-ide"></a> ä¸‹è½½ Arduino IDE</h2><ul><li><p><a target="_blank" rel="noopener" href="https://www.arduino.cc/">Arduino å®˜ç½‘</a></p></li><li><p><a target="_blank" rel="noopener" href="https://downloads.arduino.cc/arduino-1.8.13-windows.zip">Arduino IDE 1.8.13</a></p></li></ul><p>ä¸‹è½½å®Œæˆåæ‰“å¼€ arduino.exe<br /><img src="./%E6%89%93%E5%BC%80arduino_IDE.png" alt="æ‰“å¼€arduino_IDE.png" /></p><h2 id="æ·»åŠ -json-æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ·»åŠ -json-æ–‡ä»¶"></a> æ·»åŠ  json æ–‡ä»¶</h2><p>æ‰“å¼€é¦–é€‰é¡¹<br /><img src="./%E9%A6%96%E9%80%89%E9%A1%B9.png" alt="é¦–é€‰é¡¹.png" /><br /><img src="./%E7%AE%A1%E7%90%86%E5%99%A8%E7%BD%91%E5%9D%80.png" alt="ç®¡ç†å™¨ç½‘å€.png" /><br />åœ¨å¼€å‘æ¿ç®¡ç†å™¨ç½‘å€å¡«å…¥</p><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>arduino.esp8266.com<span class="hljs-regexp">/stable/</span>package_esp8266com_index.json</code></pre><p>æˆ–è€…</p><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>wechat.doit.am/package_esp8266com_index.json</code></pre><p>åœ¨<a target="_blank" rel="noopener" href="https://github.com/esp8266/Arduino">GitHub ä¸Šçš„é¡¹ç›®</a>é‡Œæœ‰æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯éœ€è¦ç§‘å­¦ä¸Šç½‘æ‰€ä»¥é€‰æ‹©ç¬¬äºŒä¸ª</p><h2 id="æ·»åŠ -esp8266-å¼€å‘æ¿"><a class="markdownIt-Anchor" href="#æ·»åŠ -esp8266-å¼€å‘æ¿"></a> æ·»åŠ  ESP8266 å¼€å‘æ¿</h2><p>æœç´¢æ é”®å…¥ 8266<br /><img src="./%E6%B7%BB%E5%8A%A0%E5%BC%80%E5%8F%91%E6%9D%BF.png" alt="æ·»åŠ å¼€å‘æ¿.png" /><br /><img src="./%E6%9F%A5%E6%89%BE%E5%BC%80%E5%8F%91%E6%9D%BF.png" alt="æŸ¥æ‰¾å¼€å‘æ¿.png" /><br />å¦‚æœå‡ºç°ä¸‹è½½å¤±è´¥å¯ä»¥ä»è¿™é‡Œä¸‹è½½</p><ul><li><p>å¦‚æœå®‰è£…è¿‡å…¶ä»–ç‰ˆæœ¬çš„ esp8266sdkï¼Œè¯·å…ˆåˆ é™¤ï¼Œå†ä½¿ç”¨æœ¬å®‰è£…åŒ…ã€‚</p></li><li><p>è§£å‹å®Œæˆåï¼Œå†æ‰“å¼€ Arduino IDEï¼Œå³å¯åœ¨ èœå•æ &gt;å·¥å…·&gt;å¼€å‘æ¿ ä¸­æ‰¾åˆ°ä½ ä½¿ç”¨çš„ esp8266 å¼€å‘æ¿ã€‚</p></li></ul><p>æ¥è‡ª Arduino ä¸­æ–‡ç¤¾åŒºçš„å¤§ä½¬</p><ul><li><a target="_blank" rel="noopener" href="https://share.weiyun.com/5CGEKJO">https://share.weiyun.com/5CGEKJO</a></li></ul><p>å®‰è£…å®Œæˆåé‡å¯ Arduino IDE å°±ä¼šæœ‰æ˜¾ç¤ºäº†<br /><img src="./END.png" alt="END.png" /></p>]]></content>
      
      
      
        <tags>
            
            <tag> Arduino </tag>
            
            <tag> ESP2866 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹æœºå®šæ—¶åˆ‡æ¢å£çº¸</title>
      <link href="/2020/11/15/shou_ji_ding_shi_qie_huan_bi_zhi/shou_ji_ding_shi_qie_huan_bi_zhi/"/>
      <url>/2020/11/15/shou_ji_ding_shi_qie_huan_bi_zhi/shou_ji_ding_shi_qie_huan_bi_zhi/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‡†å¤‡"><a class="markdownIt-Anchor" href="#å‡†å¤‡"></a> å‡†å¤‡</h2><ol><li><p>æ‰‹æœºå®‰è£… termuxAPP å’Œ termux_API (è¿™é‡Œç»™å‡ºå‚è€ƒåšå®¢é“¾æ¥)</p><ul><li><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/2018/05/termux.html">å›½å…‰çš„ Termux é«˜çº§ç»ˆç«¯å®‰è£…ä½¿ç”¨é…ç½®æ•™ç¨‹</a></p></li><li><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/2018/05/termux.html#toc-heading-3">è·³è½¬ä¸‹è½½é“¾æ¥</a></p></li><li><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/2018/05/termux.html#toc-heading-167">API ä¸‹è½½é“¾æ¥</a></p></li></ul></li><li><p>å®ŒæˆåŸºç¡€çš„å®‰è£…</p></li></ol><pre><code class="hljs Bash">pkg install termux-api  <span class="hljs-comment">#termux-API</span>pkg install cronie      <span class="hljs-comment">#linux å®šæ—¶è½¯ä»¶</span></code></pre><h2 id="ç¼–è¾‘å®šæ—¶è¿è¡Œçš„-shell-è„šæœ¬"><a class="markdownIt-Anchor" href="#ç¼–è¾‘å®šæ—¶è¿è¡Œçš„-shell-è„šæœ¬"></a> ç¼–è¾‘å®šæ—¶è¿è¡Œçš„ shell è„šæœ¬</h2><p>ç¼–è¾‘ <a target="_blank" rel="noopener" href="http://bizhi.sh">bizhi.sh</a> æ–‡ä»¶</p><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/bash</span>termux-wallpaper -f ./å£çº¸æ‰€åœ¨ç›®å½•/$((RANDOM%<span class="hljs-number">152</span>+<span class="hljs-number">1</span>)).jpg<span class="hljs-comment"># $((RANDOM%152+1))æ˜¯ç”¨æ¥éšæœºå–æ•°çš„</span><span class="hljs-comment"># $((RANDOM%152+1))å¯ä»¥æ¢æˆæ–‡ä»¶å</span></code></pre><p><img src="https://i.loli.net/2020/11/15/DxGUVOYLvrMKJc7.png" alt="æˆ‘çš„æ–‡ä»¶å‘½åæ ¼å¼" /></p><h2 id="ç¼–è¾‘å®šæ—¶ä»»åŠ¡æ–‡ä»¶"><a class="markdownIt-Anchor" href="#ç¼–è¾‘å®šæ—¶ä»»åŠ¡æ–‡ä»¶"></a> ç¼–è¾‘å®šæ—¶ä»»åŠ¡æ–‡ä»¶</h2><p>ç»ˆç«¯è¾“å…¥</p><pre><code class="hljs Bash">crontab -e</code></pre><p>å†è¾“å…¥</p><pre><code class="hljs jboss-cli"><span class="hljs-comment"># æ¯éš”äº”åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡bizhi.shæ–‡ä»¶</span>*<span class="hljs-string">/5</span> * * * * <span class="hljs-string">./</span>æ–‡ä»¶è·¯å¾„<span class="hljs-string">/bizhi.sh</span></code></pre><p>åº”ä¸º Termux é»˜è®¤ä¸å¯åŠ¨ crontabï¼Œæ‰€ä»¥è¿›å…¥ Termux è¦å¼€å¯ä¸€ä¸‹</p><pre><code class="hljs Bash">crond start <span class="hljs-comment">#å¼€å¯</span></code></pre><p>åœ¨æ‰‹æœºè®¾ç½®ä¸­ï¼Œtermux å’Œ termux-API éƒ½å¼€å¯æ‰‹åŠ¨ç®¡ç†</p><p><img src="https://i.loli.net/2020/11/15/I3X1TJlPrbMBypf.jpg" alt="æ‰‹æœºç®¡ç†é¡µé¢" /></p><iframe height=520 width=776   src="//player.bilibili.com/player.html?aid=458590572&bvid=BV1Y5411n7tx&cid=280885187&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="max-width: 100%, text-align: center" > </iframe>]]></content>
      
      
      
        <tags>
            
            <tag> termux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Micropythonè”ç½‘åŒæ­¥æ—¶é—´</title>
      <link href="/2020/11/09/micropython_lian_wang_tong_bu_shi_jian/micropython_lian_wang_tong_bu_shi_jian/"/>
      <url>/2020/11/09/micropython_lian_wang_tong_bu_shi_jian/micropython_lian_wang_tong_bu_shi_jian/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ntp æœåŠ¡å™¨å¯ä»¥è‡ªå·±é€‰æ‹©ï¼Œå¯ä»¥ä½¿ç”¨çˆ¬è™«çˆ¬å»æ—¶é—´ä¹Ÿå¯ä»¥ç”¨ NTP æœåŠ¡å™¨åŒæ­¥ï¼Œå°† wifi_connect()å‡½æ•°æœ€åä¸€è¡Œ get_time_py æ¢æˆ get_time()å³å¯<br />ç›´æ¥ä¸Šç¨‹åº</p><pre><code class="hljs python"><span class="hljs-comment"># This file is executed on every boot (including wake-boot from deepsleep)</span><span class="hljs-comment">#import esp</span><span class="hljs-comment">#esp.osdebug(None)</span><span class="hljs-comment">#import webrepl</span><span class="hljs-comment">#webrepl.start()</span><span class="hljs-comment">#ä½¿ç”¨ESP32ä¸Šçš„MicroPythoné€£æ¥Wi-Fiç¶²çµ¡</span><span class="hljs-keyword">from</span> machine <span class="hljs-keyword">import</span> Pin,RTC<span class="hljs-keyword">import</span> network    <span class="hljs-comment">#ç¶²çµ¡æ¨¡å¡Š</span><span class="hljs-keyword">import</span> time       <span class="hljs-comment">#è¨ˆæ™‚å™¨æ¨¡å¡Š</span><span class="hljs-keyword">import</span> ntptime    <span class="hljs-comment">#ntptimeç¶²çµ¡æ™‚é–“å”è­°æ¨¡å¡Š</span><span class="hljs-comment">#è‡ªåŠ¨è”ç½‘</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">wifi_connect</span>():  wifi_led=Pin(<span class="hljs-number">18</span>,Pin.OUT)             <span class="hljs-comment"># åˆå§‹åŒ–LEDç‡ˆï¼Œå¯è‡ªå®šç¾©</span>  wlan = network.WLAN(network.STA_IF)  <span class="hljs-comment">#</span>  wlan.active(<span class="hljs-literal">True</span>)                    <span class="hljs-comment"># æ¿€æ´»ç¶²çµ¡æ¥å£</span>  start_time=time.time()               <span class="hljs-comment"># è¨˜éŒ„é–‹å§‹æ™‚é–“</span>  <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> wlan.isconnected():              <span class="hljs-comment"># å¦‚è‹¥è¯ç¶²å¤±æ•—</span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å½“å‰æ— çº¿æœªè”ç½‘ï¼Œæ­£åœ¨è¿æ¥ä¸­....&quot;</span>)    <span class="hljs-comment"># wlan.connect(&quot;æ­¤å¤„æ”¹ä¸ºä½ çš„æ— çº¿ç½‘åç§°&quot;, &quot;æ— çº¿ç½‘å¯†ç &quot;)</span>    wlan.connect(<span class="hljs-string">&#x27;XXXXXXXX&#x27;</span>,<span class="hljs-string">&#x27;XXXXXXXX&#x27;</span>)   <span class="hljs-comment"># ç„¡ç¶«ç¶²SSIDã€å¯†ç¢¼</span>    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> wlan.isconnected():         <span class="hljs-comment"># å¦‚è‹¥é‚„æœªé€£æ¥æˆåŠŸï¼ŒLEDå‰‡æœƒä»¥é–ƒçˆçš„æ–¹å¼æç¤ºæœªé€£æ¥åˆ°WIFI</span>      wifi_led.value(<span class="hljs-number">0</span>)      time.sleep_ms(<span class="hljs-number">1000</span>)       <span class="hljs-comment"># å»¶æ™‚å‡½æ•¸1000æ¯«ç§’</span>      wifi_led.value(<span class="hljs-number">1</span>)      time.sleep_ms(<span class="hljs-number">1000</span>)      <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨å°è¯•è¿æ¥åˆ°wifi....&quot;</span>)      <span class="hljs-built_in">print</span>(time.time())      <span class="hljs-keyword">if</span> time.time()-start_time&gt;<span class="hljs-number">15</span>:       <span class="hljs-comment"># å¦‚è‹¥è¶…é15ç§’é‚„æœªé€£æ¥å‰‡é€€å‡ºéˆæ¥</span>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é€£æ¥å¤±æ•—!!!è«‹æª¢æŸ¥ç„¡ç¶«ç¶²åç¨±å’Œå¯†ç¢¼æ˜¯å¦æ­£ç¢º...&quot;</span>)        <span class="hljs-keyword">break</span>  <span class="hljs-keyword">if</span> wlan.isconnected():                  <span class="hljs-comment"># å¦‚è‹¥é€£æ¥æˆåŠŸ</span>    wifi_led.value(<span class="hljs-number">1</span>)                     <span class="hljs-comment"># LEDç‡ˆå¸¸äº®</span>    IP_info=wlan.ifconfig()    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;##################################################&quot;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²é€£æ¥WIFIï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š&quot;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;IPåœ°å€ï¼š&quot;</span>+IP_info[<span class="hljs-number">0</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å­ç¶²æ©ç¢¼ï¼š&quot;</span>+IP_info[<span class="hljs-number">1</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç¶²é–¢ï¼š&quot;</span>+IP_info[<span class="hljs-number">2</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;DNSï¼š&quot;</span>+IP_info[<span class="hljs-number">3</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;##################################################&quot;</span>)    get_time_py()<span class="hljs-comment">#åŒæ­¥æ™‚é–“</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_time</span>():    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŒæ­¥æ™‚é–“&quot;</span>)    <span class="hljs-built_in">print</span>()    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŒæ­¥å‰æœ¬åœ°æ™‚é–“ï¼š%s&quot;</span> %<span class="hljs-built_in">str</span>(time.localtime()))    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;##&quot;</span>)    ntptime.NTP_DELTA = <span class="hljs-number">3155644800</span>    <span class="hljs-comment"># è¨­ç½®  UTC+8åç§»æ™‚é–“ï¼ˆç§’ï¼‰ï¼Œä¸ä¸è¨­ç½®å°±æ˜¯UTC0</span><span class="hljs-comment">#     ntptime.host = &#x27;pool.ntp.org&#x27;  # å¯é¸ntpæœå‹™å™¨ç‚ºé˜¿é‡Œé›²æœå‹™å™¨ï¼Œé»˜èªæ˜¯&quot;pool.ntp.org&quot;</span>    ntptime.host = <span class="hljs-string">&#x27;edu.ntp.org.cn&#x27;</span><span class="hljs-comment">#     ntptime.host = &#x27;210.72.145.44&#x27; # åœ‹å®¶æˆæ™‚ä¸­å¿ƒæœå‹™å™¨IPåœ°å€</span><span class="hljs-comment">#     ntptime.host = &#x27;ntp1.aliyun.com&#x27;</span><span class="hljs-comment">#     ntptime.host = &#x27;cn.ntp.org.cn&#x27;</span>    ntptime.settime()                 <span class="hljs-comment"># ä¿®æ”¹è¨­å‚™æ™‚é–“</span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŒæ­¥åæœ¬åœ°æ™‚é–“ï¼š%s&quot;</span> %<span class="hljs-built_in">str</span>(time.localtime()))    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;##################################################&quot;</span>)    rtc = RTC()    <span class="hljs-built_in">print</span>(rtc.datetime())<span class="hljs-comment"># çˆ¬å–æ™‚é–“</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_time_py</span>():    time_api_url = <span class="hljs-string">&quot;&quot;&quot;http://quan.suning.com/getSysTime.do&quot;&quot;&quot;</span>    r = request.get(time_api_url)    content = r.text    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;çˆ¬å–æ™‚é–“...&#x27;</span>)    time = re.search(        <span class="hljs-string">r&#x27;&#123;&quot;sysTime2&quot;:&quot;(.*?)-(.*?)-(.*?) (.*?):(.*?):(.*?)&quot;,&quot;sysTime1&quot;:&quot;&#x27;</span>, content        )    <span class="hljs-built_in">print</span>(r.text[<span class="hljs-number">13</span>:<span class="hljs-number">29</span>])    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">27</span>:<span class="hljs-number">29</span>]))    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">23</span>:<span class="hljs-number">26</span>]))    mm = <span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">27</span>:<span class="hljs-number">29</span>])<span class="hljs-comment"># åˆ†é˜</span>    hh = <span class="hljs-built_in">int</span>(r.text[<span class="hljs-number">23</span>:<span class="hljs-number">26</span>])<span class="hljs-comment"># å°æ™‚</span>    rtc = RTC()    time_date = rtc.datetime()    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;é‡ç½®æ™‚é–“ï¼&#x27;</span>)    rtc.datetime((time_date[<span class="hljs-number">0</span>], time_date[<span class="hljs-number">1</span>], time_date[<span class="hljs-number">2</span>], time_date[<span class="hljs-number">3</span>], hh, mm, time_date[<span class="hljs-number">6</span>], time_date[<span class="hljs-number">7</span>]))    rtc.datetime()<span class="hljs-comment">#é–‹å§‹åŸ·è¡Œè¯ç¶²</span>wifi_connect()</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> micropython </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP32_micropythonå›ºä»¶çƒ§å½•</title>
      <link href="/2020/11/05/esp32_micropython_gu_jian_shao_lu/esp32_micropython_gu_jian_shao_lu/"/>
      <url>/2020/11/05/esp32_micropython_gu_jian_shao_lu/esp32_micropython_gu_jian_shao_lu/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="esp32_micropython-å›ºä»¶çƒ§å½•"><a class="markdownIt-Anchor" href="#esp32_micropython-å›ºä»¶çƒ§å½•"></a> ESP32_micropython å›ºä»¶çƒ§å½•</h2><h3 id="çƒ§å½•å‡†å¤‡"><a class="markdownIt-Anchor" href="#çƒ§å½•å‡†å¤‡"></a> çƒ§å½•å‡†å¤‡</h3><p>1.micropython IDEï¼š<a target="_blank" rel="noopener" href="https://thonny.org/">Thonny</a></p><p><img src="./thonny_download.png" alt="thonny_download.png" /></p><p>2.ESP32 çš„ micropython å›ºä»¶ï¼š<a target="_blank" rel="noopener" href="https://www.micropython.org/download/esp32/">æˆ³æˆ‘è¿›ä¸‹è½½é¡µé¢</a>ï¼Œmicropython è¿˜æ”¯æŒå…¶ä»–èŠ¯ç‰‡<a target="_blank" rel="noopener" href="https://www.micropython.org/download/">link</a>ï¼Œä¸‹è½½é¡µé¢æœ‰å¾ˆå¤šå›ºä»¶é€‰æ‹©ï¼Œç”±äºæˆ‘çš„æ˜¯ä¸å¸¦ SPIRAM çš„ï¼Œå› æ­¤æˆ‘é€‰æ‹©äº†ç¬¬ä¸€ä¸ªã€‚</p><p><img src="./micropython%E5%9B%BA%E4%BB%B6.png" alt="micropythonå›ºä»¶" /></p><p>3.çƒ§å½•å·¥å…·ï¼š<br />è¿™é‡Œæä¾›ä¸¤ç§ï¼Œesptool åœ¨ GitHub ä¸Šæœ‰æ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸ç»†è®²ã€‚</p><ul><li><p>esptoolï¼š<a target="_blank" rel="noopener" href="https://github.com/espressif/esptool">github link</a></p></li><li><p>Thonny: micropython IDE</p></li><li><p>Flash ä¸‹è½½å·¥å…·ï¼š<a target="_blank" rel="noopener" href="https://www.espressif.com/support/download/other-tools">link</a></p><p><img src="./%E7%83%A7%E5%BD%95%E5%B7%A5%E5%85%B7.png" alt="çƒ§å½•å·¥å…·.png" /></p></li></ul><p>4.ESP32 æ¨¡ç»„ï¼š æ‰“å¼€æ·˜å®â€¦</p><h3 id="çƒ§å½•è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#çƒ§å½•è¿‡ç¨‹"></a> çƒ§å½•è¿‡ç¨‹</h3><h4 id="ä½¿ç”¨-thonny-çƒ§å½•"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-thonny-çƒ§å½•"></a> ä½¿ç”¨ Thonny çƒ§å½•</h4><p>ç‚¹å‡»å·¥å…·æ è¿è¡Œï¼Œé€‰æ‹©â€œé€‰æ‹©è§£é‡Šå™¨â€¦â€</p><p><img src="./Thonny_%E7%83%A7%E5%BD%95%E5%9B%BA%E4%BB%B6.png" alt="Thonny_çƒ§å½•å›ºä»¶.png" /><br /><img src="./Thonny_%E7%83%A7%E5%BD%95%E5%9B%BA%E4%BB%B61.png" alt="Thonny_çƒ§å½•å›ºä»¶1.png" /></p><p>é€‰æ‹©æˆ‘ä»¬åœ¨ Micropython å®˜ç½‘ä¸‹è½½çš„å›ºä»¶åç‚¹å‡» install<br />è¿™æ˜¯ä» ESP å®˜ç½‘ä¸Šä¸‹è½½çš„å¯åŠ¨æ¨¡å¼æ–¹æ³•ï¼š</p><p><img src="./%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F.png" alt="å¯åŠ¨æ¨¡å¼.png" /><br /><img src="./%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F1.png" alt="å¯åŠ¨æ¨¡å¼1.png" /></p><p>å³GPIO0å’ŒGPIO2å…¨éƒ¨æ¥åœ°ï¼ŒåŒæ—¶æŒ‰ä¸‹å¤ä½æŒ‰é”®ï¼Œä¿æŒ1æ¯«ç§’å†æ–­å¼€GPIO0æ–­å¼€æ¥åœ°ï¼ˆå› ä¸º GPIO0 é»˜è®¤ä¸Šæ‹‰ï¼‰ï¼Œä¾¿å¼€å§‹ä¸‹è½½ã€‚</p><h4 id="ä½¿ç”¨-flash-ä¸‹è½½å·¥å…·"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-flash-ä¸‹è½½å·¥å…·"></a> ä½¿ç”¨ Flash ä¸‹è½½å·¥å…·</h4><p>ä»å®˜ç½‘ä¸‹è½½äº†å·¥å…·ååŒå‡»æ‰“å¼€ï¼Œç­‰å¾…å‡ ç§’åï¼Œç‚¹å‡» ESP32downloadToolsï¼Œé€‰æ‹©æˆ‘ä»¬åœ¨ Micropython å®˜ç½‘ä¸‹è½½çš„å›ºä»¶åç‚¹å‡» START</p><p><img src="./flash_download.png" alt="flash_download.png" /><br /><img src="./flash_download1.png" alt="flash_download1.png" /></p><p>å†æŒ‰ç…§ä¸Šæ–‡ä¸­çš„å¯åŠ¨æ–¹æ³•å¯åŠ¨å³å¯ä¸‹è½½ã€‚</p><p>æˆåŠŸä¹‹å shell ä¼šå‡ºç°ä¸‹å›¾ï¼š</p><p><img src="./SHELL.png" alt="SHELL.png" /></p><p>åƒ python ä¸€æ ·å¯ä»¥å®æ—¶è¾“å…¥ï¼ŒESP32 å¯ä»¥ç›´æ¥çœ‹åˆ° LED ç¯è¢«ç‚¹äº®</p>]]></content>
      
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
            <tag> micropython </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
